!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.OpenPlayer=t():e.OpenPlayer=t()}(this,(function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=54)}([function(e,t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof global&&global)||function(){return this}()||Function("return this")()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT_OPTIONS=t.DVR_THRESHOLD=t.SUPPORTS_HLS=t.HAS_MSE=t.IS_STOCK_ANDROID=t.IS_SAFARI=t.IS_FIREFOX=t.IS_CHROME=t.IS_EDGE=t.IS_IE=t.IS_ANDROID=t.IS_IOS=t.IS_IPOD=t.IS_IPHONE=t.IS_IPAD=t.UA=t.NAV=void 0,t.NAV="undefined"!=typeof window?window.navigator:null,t.UA=t.NAV?t.NAV.userAgent.toLowerCase():null,t.IS_IPAD=!!t.UA&&(/ipad/i.test(t.UA)&&!window.MSStream),t.IS_IPHONE=!!t.UA&&(/iphone/i.test(t.UA)&&!window.MSStream),t.IS_IPOD=!!t.UA&&(/ipod/i.test(t.UA)&&!window.MSStream),t.IS_IOS=!!t.UA&&(/ipad|iphone|ipod/i.test(t.UA)&&!window.MSStream),t.IS_ANDROID=!!t.UA&&/android/i.test(t.UA),t.IS_IE=!!t.UA&&/(trident|microsoft)/i.test(t.NAV.appName),t.IS_EDGE=!!t.NAV&&("msLaunchUri"in t.NAV&&!("documentMode"in document)),t.IS_CHROME=!!t.UA&&/chrome/i.test(t.UA),t.IS_FIREFOX=!!t.UA&&/firefox/i.test(t.UA),t.IS_SAFARI=!!t.UA&&(/safari/i.test(t.UA)&&!t.IS_CHROME),t.IS_STOCK_ANDROID=!!t.UA&&/^mozilla\/\d+\.\d+\s\(linux;\su;/i.test(t.UA),t.HAS_MSE="undefined"!=typeof window&&"MediaSource"in window,t.SUPPORTS_HLS=function(){if("undefined"==typeof window)return!1;var e=window.MediaSource||window.WebKitMediaSource,n=window.SourceBuffer||window.WebKitSourceBuffer,i=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),r=!n||n.prototype&&"function"==typeof n.prototype.appendBuffer&&"function"==typeof n.prototype.remove;return!!i&&!!r&&!t.IS_SAFARI},t.DVR_THRESHOLD=120,t.EVENT_OPTIONS=!t.IS_IE&&{passive:!1}},function(e,t,n){"use strict";function i(e){if(e){var t=e.parentNode;t&&t.removeChild(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.isXml=t.offset=t.hasClass=t.request=t.removeElement=t.loadScript=t.isAudio=t.isVideo=t.getAbsoluteUrl=void 0,t.getAbsoluteUrl=function(e){var t=document.createElement("a");return t.href=e,t.href},t.isVideo=function(e){return"video"===e.tagName.toLowerCase()},t.isAudio=function(e){return"audio"===e.tagName.toLowerCase()},t.loadScript=function(e){return new Promise((function(t,n){var r=document.createElement("script");r.src=e,r.async=!0,r.onload=function(){i(r),t({})},r.onerror=function(){i(r),n({src:e})},document.head&&document.head.appendChild(r)}))},t.removeElement=i,t.request=function(e,t,n,i){var r,s=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");switch(t){case"text":r="text/plain";break;case"json":r="application/json, text/javascript";break;case"html":r="text/html";break;case"xml":r="application/xml, text/xml";break;default:r="application/x-www-form-urlencoded; charset=UTF-8"}var a=!1,o="application/x-www-form-urlencoded"!==r?"".concat(r,", */*; q=0.01"):"*/".concat("*");s&&(s.open("GET",e,!0),s.setRequestHeader("Accept",o),s.onreadystatechange=function(){if(!a&&4===s.readyState)if(200===s.status){var e;switch(a=!0,t){case"json":e=JSON.parse(s.responseText);break;case"xml":e=s.responseXML;break;default:e=s.responseText}n(e)}else"function"==typeof i&&i(s.status)},s.send())},t.hasClass=function(e,t){return!!(e.className.split(" ").indexOf(t)>-1)},t.offset=function(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset||document.documentElement.scrollLeft),top:t.top+(window.pageYOffset||document.documentElement.scrollTop)}},t.isXml=function(e){var t;if(void 0!==window.DOMParser)t=function(e){return(new window.DOMParser).parseFromString(e,"text/xml")};else{if(void 0===window.ActiveXObject||!new window.ActiveXObject("Microsoft.XMLDOM"))return!1;t=function(e){var t=new window.ActiveXObject("Microsoft.XMLDOM");return t.async=!1,t.loadXML(e),t}}try{var n=t(e);if(n.getElementsByTagName("parsererror").length>0)return!1;if(n.parseError&&0!==n.parseError.errorCode)return!1}catch(e){return!1}return!0}},function(e,t,n){var i=n(0),r=n(59),s=n(9),a=n(60),o=n(57),l=n(56),c=r("wks"),u=i.Symbol,d=l?u:u&&u.withoutSetter||a;e.exports=function(e){return s(c,e)&&(o||"string"==typeof c[e])||(o&&s(u,e)?c[e]=u[e]:c[e]=d("Symbol."+e)),c[e]}},function(e,t,n){var i=n(0),r=n(31).f,s=n(15),a=n(16),o=n(38),l=n(90),c=n(64);e.exports=function(e,t){var n,u,d,h,f,p=e.target,v=e.global,m=e.stat;if(n=v?i:m?i[p]||o(p,{}):(i[p]||{}).prototype)for(u in t){if(h=t[u],d=e.noTargetGet?(f=r(n,u))&&f.value:n[u],!c(v?u:p+(m?".":"#")+u,e.forced)&&void 0!==d){if(typeof h==typeof d)continue;l(h,d)}(e.sham||d&&d.sham)&&s(h,"sham",!0),a(n,u,h,e)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.events=t.addEvent=void 0,t.addEvent=function(e,t){var n={};return t&&t.detail&&(n={detail:t.detail}),new CustomEvent(e,n)},t.events=["loadstart","durationchange","loadedmetadata","loadeddata","progress","canplay","canplaythrough","suspend","abort","error","emptied","stalled","play","playing","pause","waiting","seeking","seeked","timeupdate","ended","ratechange","volumechange"]},function(e,t,n){var i=n(8);e.exports=function(e){if(!i(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var i=n(14),r={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return r.call(i(e),t)}},function(e,t,n){var i=n(0),r=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?r(i[e]):i[e]&&i[e][t]}},function(e,t,n){var i=n(5);e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,n){var i=n(11),r=n(61),s=n(7),a=n(34),o=Object.defineProperty;t.f=i?o:function(e,t,n){if(s(e),t=a(t),s(n),r)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){"use strict";function i(e){var t=e.split("?")[0],n=t?t.split("\\"):null,i=n?n.pop():null,r=i?i.split("/"):null,s=r?r.pop():null;return s&&s.indexOf(".")>-1?s.substring(s.lastIndexOf(".")+1):""}Object.defineProperty(t,"__esModule",{value:!0}),t.isAutoplaySupported=t.predictType=t.isFlvSource=t.isDashSource=t.isM3USource=t.isHlsSource=t.getExtension=void 0,t.getExtension=i,t.isHlsSource=function(e){return/\.m3u8$/i.test(e.src)||["application/x-mpegURL","application/vnd.apple.mpegurl"].indexOf(e.type)>-1},t.isM3USource=function(e){return/\.m3u$/i.test(e.src)},t.isDashSource=function(e){return/\.mpd/i.test(e.src)||"application/dash+xml"===e.type},t.isFlvSource=function(e){return/(^rtmp:\/\/|\.flv$)/i.test(e.src)||["video/x-flv","video/flv"].indexOf(e.type)>-1},t.predictType=function(e){var t,n=i(e);if(!n)return"video/mp4";switch(n){case"m3u8":case"m3u":t="application/x-mpegURL";break;case"mpd":t="application/dash+xml";break;case"mp3":t="audio/mp3";break;case"webm":t="video/webm";break;case"ogg":t="video/ogg";break;default:t="video/mp4"}return t},t.isAutoplaySupported=function(e,t,n,i,r){var s=e.play();void 0!==s?s.then((function(){return e.pause(),n(!0),i(!1),r()})).catch((function(){e.volume=0,e.muted=!0,e.play().then((function(){return e.pause(),n(!0),i(!0),r()})).catch((function(){e.volume=t,e.muted=!1,n(!1),i(!1),r()}))})):(n(!e.paused||"Promise"in window&&s instanceof Promise),e.pause(),i(!1),r())}},function(e,t,n){var i=n(33);e.exports=function(e){return Object(i(e))}},function(e,t,n){var i=n(11),r=n(12),s=n(18);e.exports=i?function(e,t,n){return r.f(e,t,s(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var i=n(0),r=n(15),s=n(9),a=n(38),o=n(40),l=n(25),c=l.get,u=l.enforce,d=String(String).split("String");(e.exports=function(e,t,n,o){var l,c=!!o&&!!o.unsafe,h=!!o&&!!o.enumerable,f=!!o&&!!o.noTargetGet;"function"==typeof n&&("string"!=typeof t||s(n,"name")||r(n,"name",t),(l=u(n)).source||(l.source=d.join("string"==typeof t?t:""))),e!==i?(c?!f&&e[t]&&(h=!0):delete e[t],h?e[t]=n:r(e,t,n)):h?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||o(this)}))},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=!1},function(e,t,n){var i=n(17);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports={}},function(e,t,n){"use strict";var i=n(17),r=function(e){var t,n;this.promise=new e((function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i})),this.resolve=i(t),this.reject=i(n)};e.exports.f=function(e){return new r(e)}},function(e,t,n){var i=n(32),r=n(33);e.exports=function(e){return i(r(e))}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var i,r,s,a=n(89),o=n(0),l=n(8),c=n(15),u=n(9),d=n(37),h=n(41),f=n(42),p=o.WeakMap;if(a||d.state){var v=d.state||(d.state=new p),m=v.get,y=v.has,g=v.set;i=function(e,t){if(y.call(v,e))throw new TypeError("Object already initialized");return t.facade=e,g.call(v,e,t),t},r=function(e){return m.call(v,e)||{}},s=function(e){return y.call(v,e)}}else{var E=h("state");f[E]=!0,i=function(e,t){if(u(e,E))throw new TypeError("Object already initialized");return t.facade=e,c(e,E,t),t},r=function(e){return u(e,E)?e[E]:{}},s=function(e){return u(e,E)}}e.exports={set:i,get:r,has:s,enforce:function(e){return s(e)?r(e):i(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=r(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){var i=n(43),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},function(e,t,n){var i=n(0);e.exports=i},function(e,t,n){var i=n(7),r=n(71),s=n(26),a=n(20),o=n(72),l=n(70),c=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var u,d,h,f,p,v,m,y=n&&n.that,g=!(!n||!n.AS_ENTRIES),E=!(!n||!n.IS_ITERATOR),b=!(!n||!n.INTERRUPTED),_=a(t,y,1+g+b),k=function(e){return u&&l(u),new c(!0,e)},w=function(e){return g?(i(e),b?_(e[0],e[1],k):_(e[0],e[1])):b?_(e,k):_(e)};if(E)u=e;else{if("function"!=typeof(d=o(e)))throw TypeError("Target is not iterable");if(r(d)){for(h=0,f=s(e.length);f>h;h++)if((p=w(e[h]))&&p instanceof c)return p;return new c(!1)}u=d.call(e)}for(v=u.next;!(m=v.call(u)).done;){try{p=w(m.value)}catch(e){throw l(u),e}if("object"==typeof p&&p&&p instanceof c)return p}return new c(!1)}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,s=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},a=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.set(this,void 0),this.element=t,this.media=n,this.promise=new Promise((function(e){e({})}))}var t,n,o;return t=e,(n=[{key:"play",value:function(){return this.element.play()}},{key:"pause",value:function(){this.element.pause()}},{key:"instance",set:function(e){s(this,r,e)},get:function(){return a(this,r)}},{key:"volume",set:function(e){this.element.volume=e},get:function(){return this.element.volume}},{key:"muted",set:function(e){this.element.muted=e},get:function(){return this.element.muted}},{key:"playbackRate",set:function(e){this.element.playbackRate=e},get:function(){return this.element.playbackRate}},{key:"defaultPlaybackRate",set:function(e){this.element.defaultPlaybackRate=e},get:function(){return this.element.defaultPlaybackRate}},{key:"currentTime",set:function(e){this.element.currentTime=e},get:function(){return this.element.currentTime}},{key:"duration",get:function(){return this.element.duration}},{key:"paused",get:function(){return this.element.paused}},{key:"ended",get:function(){return this.element.ended}}])&&i(t.prototype,n),o&&i(t,o),e}();r=new WeakMap,t.default=o},function(e,t,n){var i=n(11),r=n(55),s=n(18),a=n(23),o=n(34),l=n(9),c=n(61),u=Object.getOwnPropertyDescriptor;t.f=i?u:function(e,t){if(e=a(e),t=o(t),c)try{return u(e,t)}catch(e){}if(l(e,t))return s(!r.f.call(e,t),e[t])}},function(e,t,n){var i=n(5),r=n(24),s="".split;e.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==r(e)?s.call(e,""):Object(e)}:Object},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var i=n(87),r=n(35);e.exports=function(e){var t=i(e,"string");return r(t)?t:String(t)}},function(e,t,n){var i=n(10),r=n(56);e.exports=r?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return"function"==typeof t&&Object(e)instanceof t}},function(e,t,n){var i=n(10);e.exports=i("navigator","userAgent")||""},function(e,t,n){var i=n(0),r=n(38),s=i["__core-js_shared__"]||r("__core-js_shared__",{});e.exports=s},function(e,t,n){var i=n(0);e.exports=function(e,t){try{Object.defineProperty(i,e,{value:t,configurable:!0,writable:!0})}catch(n){i[e]=t}return t}},function(e,t,n){var i=n(0),r=n(8),s=i.document,a=r(s)&&r(s.createElement);e.exports=function(e){return a?s.createElement(e):{}}},function(e,t,n){var i=n(37),r=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(e){return r.call(e)}),e.exports=i.inspectSource},function(e,t,n){var i=n(59),r=n(60),s=i("keys");e.exports=function(e){return s[e]||(s[e]=r(e))}},function(e,t){e.exports={}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){var i,r=n(7),s=n(99),a=n(44),o=n(42),l=n(66),c=n(39),u=n(41),d=u("IE_PROTO"),h=function(){},f=function(e){return"<script>"+e+"<\/script>"},p=function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t},v=function(){try{i=new ActiveXObject("htmlfile")}catch(e){}v=document.domain&&i?p(i):function(){var e,t=c("iframe");if(t.style)return t.style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F}()||p(i);for(var e=a.length;e--;)delete v.prototype[a[e]];return v()};o[d]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(h.prototype=r(e),n=new h,h.prototype=null,n[d]=e):n=v(),void 0===t?n:s(n,t)}},function(e,t,n){var i=n(62),r=n(44);e.exports=Object.keys||function(e){return i(e,r)}},function(e,t,n){var i=n(35);e.exports=function(e){if(i(e))throw TypeError("Cannot convert a Symbol value to a string");return String(e)}},function(e,t,n){var i=n(9),r=n(14),s=n(41),a=n(105),o=s("IE_PROTO"),l=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=r(e),i(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},function(e,t,n){var i=n(12).f,r=n(9),s=n(3)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,s)&&i(e,s,{configurable:!0,value:t})}},function(e,t,n){var i=n(7),r=n(106);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,s){return i(n),r(s),t?e.call(n,s):n.__proto__=s,n}}():void 0)},function(e,t,n){var i={};i[n(3)("toStringTag")]="z",e.exports="[object z]"===String(i)},function(e,t,n){var i=n(24),r=n(0);e.exports="process"==i(r.process)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timeToSeconds=t.formatTime=void 0,t.formatTime=function(e,t){var n=Math.floor(e%1*(t||0)),i=Math.floor(e),r=Math.floor(i/60),s=Math.floor(r/60),a=function(e){return e<10?"0".concat(e):e};return r%=60,i%=60,"".concat(s>0?"".concat(a(s),":"):"").concat(a(r),":").concat(a(i)).concat(n?":".concat(a(n)):"")},t.timeToSeconds=function(e){var t=e.replace(/;/g,":").split(":"),n=0;return 3===t.length?(n+=60*parseFloat(t[0])*60,n+=60*parseFloat(t[1]),n+=parseFloat(t[2])):(n+=60*parseFloat(t[0]),n+=parseFloat(t[1])),n}},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s,a,o,l,c,u,d,h,f,p,v,m,y,g,E,b,_=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},k=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},w=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(84),n(101),n(111),n(115),n(118),n(136),n(137);var A=w(n(139)),O=w(n(83)),T=w(n(147)),S=w(n(152)),L=n(1),M=n(6),P=n(2),N=n(13),I=function(){function e(t,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s.set(this,void 0),a.set(this,void 0),this.proxy=null,o.set(this,""),l.set(this,void 0),c.set(this,void 0),u.set(this,void 0),d.set(this,{}),h.set(this,!1),f.set(this,void 0),p.set(this,!1),v.set(this,!1),m.set(this,!1),y.set(this,{}),g.set(this,[]),E.set(this,void 0),b.set(this,{controls:{alwaysVisible:!1,layers:{left:["play","time","volume"],middle:["progress"],right:["captions","settings","fullscreen"]}},defaultLevel:null,detachMenus:!1,forceNative:!0,height:0,hidePlayBtnTimer:350,labels:{auto:"Auto",captions:"CC/Subtitles",click:"Click to unmute",fullscreen:"Fullscreen",lang:{en:"English"},levels:"Quality Levels",live:"Live Broadcast",mediaLevels:"Change Quality",mute:"Mute",off:"Off",pause:"Pause",play:"Play",progressRail:"Time Rail",progressSlider:"Time Slider",settings:"Player Settings",speed:"Speed",speedNormal:"Normal",tap:"Tap to unmute",toggleCaptions:"Toggle Captions",unmute:"Unmute",volume:"Volume",volumeControl:"Volume Control",volumeSlider:"Volume Slider"},live:{showLabel:!0,showProgress:!1},mode:"responsive",onError:function(){},pauseOthers:!0,progress:{duration:0,showCurrentTimeOnly:!1},showLoaderOnInit:!1,startTime:0,startVolume:1,step:0,width:0}),_(this,l,t instanceof HTMLMediaElement?t:document.getElementById(t)),k(this,l)&&(_(this,h,k(this,l).autoplay||!1),"string"==typeof n||Array.isArray(n)||this._mergeOptions(n),k(this,l).volume=k(this,y).startVolume||1,k(this,y).ads&&k(this,y).ads.src&&_(this,c,k(this,y).ads.src),k(this,y).startTime>0&&(k(this,l).currentTime=k(this,y).startTime),_(this,f,k(this,l).volume)),this._autoplay=this._autoplay.bind(this),this._enableKeyBindings=this._enableKeyBindings.bind(this),this}var t,n,w;return t=e,w=[{key:"init",value:function(){e.instances={};for(var t=document.querySelectorAll("video.op-player, audio.op-player"),n=0,i=t.length;n<i;n++){var r=t[n],s=r.getAttribute("data-op-settings");new e(r,s?JSON.parse(s):{}).init()}}},{key:"addMedia",value:function(t,n,i,r){e.customMedia.media[n]=r,e.customMedia.optionsKey[n]=t,e.customMedia.rules.push(i)}}],(n=[{key:"init",value:function(){this._isValid()&&(this._wrapInstance(),this._prepareMedia(),this._createPlayButton(),this._createUID(),this._createControls(),this._setEvents(),e.instances[this.id]=this)}},{key:"load",value:function(){if(this.isMedia())return k(this,u).load()}},{key:"play",value:function(){return k(this,u)&&!k(this,u).loaded&&(k(this,u).load(),k(this,u).loaded=!0),k(this,a)?k(this,a).play():k(this,u).play()}},{key:"pause",value:function(){k(this,a)?k(this,a).pause():k(this,u).pause()}},{key:"destroy",value:function(){var e=this;k(this,a)&&(k(this,a).pause(),k(this,a).destroy()),k(this,E)&&k(this,E).destroy();var t=k(this,l);k(this,u)&&k(this,u).destroy(),Object.keys(k(this,d)).forEach((function(n){t.removeEventListener(n,k(e,d)[n])})),this.getContainer().removeEventListener("keydown",this._enableKeyBindings),k(this,h)&&!k(this,m)&&P.isVideo(k(this,l))&&t.removeEventListener("canplay",this._autoplay),k(this,s)&&k(this,s).destroy(),P.isVideo(k(this,l))&&(P.removeElement(this.playBtn),P.removeElement(this.loader)),k(this,l).removeEventListener("playererror",k(this,y).onError),t.controls=!0,t.setAttribute("id",k(this,o)),t.removeAttribute("op-live__enabled"),t.removeAttribute("op-dvr__enabled");var n="fit"===k(this,y).mode?t.closest(".op-player__fit--wrapper"):t.parentElement;n&&n.parentNode&&n.parentNode.replaceChild(t,n);var i=M.addEvent("playerdestroyed");t.dispatchEvent(i)}},{key:"getContainer",value:function(){return k(this,l).parentElement||k(this,l)}},{key:"getControls",value:function(){return k(this,s)}},{key:"getCustomControls",value:function(){return k(this,g)}},{key:"getElement",value:function(){return k(this,l)}},{key:"getEvents",value:function(){return k(this,d)}},{key:"getOptions",value:function(){return k(this,y)}},{key:"activeElement",value:function(){return k(this,a)&&k(this,a).started()?k(this,a):k(this,u)}},{key:"isMedia",value:function(){return this.activeElement()instanceof T.default}},{key:"isAd",value:function(){return this.activeElement()instanceof S.default}},{key:"getMedia",value:function(){return k(this,u)}},{key:"getAd",value:function(){return k(this,a)}},{key:"addCaptions",value:function(e){if(e.default)for(var t=k(this,l).querySelectorAll("track"),n=0,i=t.length;n<i;n++)t[n].default=!1;var r=k(this,l),s=r.querySelector('track[srclang="'.concat(e.srclang,'"][kind="').concat(e.kind,'"]'));s?(s.src=e.src,s.label=e.label,s.default=e.default||!1):((s=document.createElement("track")).srclang=e.srclang,s.src=e.src,s.kind=e.kind,s.label=e.label,s.default=e.default||!1,r.appendChild(s));var a=M.addEvent("controlschanged");r.dispatchEvent(a)}},{key:"addControl",value:function(e){e.custom=!0,k(this,g).push(e);var t=M.addEvent("controlschanged");k(this,l).dispatchEvent(t)}},{key:"removeControl",value:function(e){var t=this,n=this.getOptions().controls.layers;Object.keys(n).forEach((function(t){n[t].forEach((function(i,r){i===e&&n[t].splice(r,1)}))})),k(this,g).forEach((function(n,i){n.id===e&&k(t,g).splice(i,1)}));var i=M.addEvent("controlschanged");k(this,l).dispatchEvent(i)}},{key:"_prepareMedia",value:function(){try{k(this,l).addEventListener("playererror",k(this,y).onError,L.EVENT_OPTIONS),k(this,h)&&P.isVideo(k(this,l))&&k(this,l).addEventListener("canplay",this._autoplay,L.EVENT_OPTIONS),_(this,u,new T.default(k(this,l),k(this,y),k(this,h),e.customMedia));var t=k(this,l).getAttribute("preload");if(!k(this,c)&&t&&"none"===t||(k(this,u).load(),k(this,u).loaded=!0),!k(this,h)&&k(this,c)){var n=k(this,y)&&k(this,y).ads?k(this,y).ads:void 0;_(this,a,new S.default(this,k(this,c),!1,!1,n))}}catch(e){console.error(e)}}},{key:"enableDefaultPlayer",value:function(){var e=this,t=!0,n=0;this.proxy&&!this.proxy.paused&&(t=!1,n=this.proxy.currentTime,this.proxy.pause()),this.proxy=this,this.getElement().addEventListener("loadedmetadata",(function(){e.getMedia().currentTime=n,t||e.play()}))}},{key:"loadAd",value:function(e){if(this.isAd())this.activeElement().destroy(),this.activeElement().src=e,this.getAd().isDone=!1,this.activeElement().paused||(this.getAd().playRequested=!0),this.activeElement().load(!0);else{var t=k(this,y)&&k(this,y).ads?k(this,y).ads:void 0,n=!this.activeElement().paused||k(this,p);_(this,a,new S.default(this,e,n,k(this,v),t))}}},{key:"_isValid",value:function(){var e=k(this,l);return!(e instanceof HTMLElement==0||!P.isAudio(e)&&!P.isVideo(e)||!e.classList.contains("op-player__media"))}},{key:"_wrapInstance",value:function(){var e=document.createElement("div");e.className="op-player op-player__keyboard--inactive",e.className+=P.isAudio(k(this,l))?" op-player__audio":" op-player__video",e.tabIndex=0,k(this,l).classList.remove("op-player"),k(this,l).parentElement&&k(this,l).parentElement.insertBefore(e,k(this,l)),e.appendChild(k(this,l));var t=document.createElement("div");if(t.className="op-status",t.innerHTML="<span></span>",t.tabIndex=-1,t.setAttribute("aria-hidden","true"),P.isVideo(k(this,l))&&k(this,l).parentElement&&k(this,l).parentElement.insertBefore(t,k(this,l)),e.addEventListener("keydown",(function(){e.classList.contains("op-player__keyboard--inactive")&&e.classList.remove("op-player__keyboard--inactive")}),L.EVENT_OPTIONS),e.addEventListener("click",(function(){e.classList.contains("op-player__keyboard--inactive")||e.classList.add("op-player__keyboard--inactive")}),L.EVENT_OPTIONS),"fill"!==k(this,y).mode||P.isAudio(k(this,l))||L.IS_IPHONE)if("fit"!==k(this,y).mode||P.isAudio(k(this,l))){var n="";if(k(this,y).width){var i="number"==typeof k(this,y).width?"".concat(k(this,y).width,"px"):k(this,y).width;n+="width: ".concat(i," !important;")}if(k(this,y).height){var r="number"==typeof k(this,y).height?"".concat(k(this,y).height,"px"):k(this,y).height;n+="height: ".concat(r," !important;")}n&&e.setAttribute("style",n)}else{var s=this.getContainer();if(s.parentElement){var a=document.createElement("div");a.className="op-player__fit--wrapper",a.tabIndex=0,s.parentElement.insertBefore(a,s),a.appendChild(s),s.classList.add("op-player__fit")}}else this.getContainer().classList.add("op-player__full")}},{key:"_createControls",value:function(){L.IS_IPHONE&&P.isVideo(k(this,l))&&this.getContainer().classList.add("op-player__ios--iphone"),_(this,s,new A.default(this)),k(this,s).create()}},{key:"_createUID",value:function(){if(k(this,l).id)_(this,o,k(this,l).id),k(this,l).removeAttribute("id");else{var t;do{t="op_".concat(Math.random().toString(36).substr(2,9))}while(void 0!==e.instances[t]);_(this,o,t)}k(this,l).parentElement&&(k(this,l).parentElement.id=k(this,o))}},{key:"_createPlayButton",value:function(){var e=this;P.isAudio(k(this,l))||(this.playBtn=document.createElement("button"),this.playBtn.className="op-player__play",this.playBtn.tabIndex=0,this.playBtn.title=k(this,y).labels.play,this.playBtn.innerHTML="<span>".concat(k(this,y).labels.play,"</span>"),this.playBtn.setAttribute("aria-pressed","false"),this.playBtn.setAttribute("aria-hidden","false"),this.loader=document.createElement("span"),this.loader.className="op-player__loader",this.loader.tabIndex=-1,this.loader.setAttribute("aria-hidden","true"),k(this,l).parentElement&&(k(this,l).parentElement.insertBefore(this.loader,k(this,l)),k(this,l).parentElement.insertBefore(this.playBtn,k(this,l))),this.playBtn.addEventListener("click",(function(){k(e,a)&&(k(e,a).playRequested=e.activeElement().paused),e.activeElement().paused?e.activeElement().play():e.activeElement().pause()}),L.EVENT_OPTIONS))}},{key:"_setEvents",value:function(){var e=this;P.isVideo(k(this,l))&&(k(this,d).loadedmetadata=function(){var t=e.activeElement();!k(e,y).showLoaderOnInit||L.IS_IOS||L.IS_ANDROID?(e.loader.setAttribute("aria-hidden","true"),e.playBtn.setAttribute("aria-hidden","false")):(e.loader.setAttribute("aria-hidden","false"),e.playBtn.setAttribute("aria-hidden","true")),t.paused&&(e.playBtn.classList.remove("op-player__play--paused"),e.playBtn.setAttribute("aria-pressed","false"))},k(this,d).waiting=function(){e.playBtn.setAttribute("aria-hidden","true"),e.loader.setAttribute("aria-hidden","false")},k(this,d).seeking=function(){var t=e.activeElement();e.playBtn.setAttribute("aria-hidden","true"),e.loader.setAttribute("aria-hidden",t instanceof T.default?"false":"true")},k(this,d).seeked=function(){var t=e.activeElement();0===Math.round(t.currentTime)?(e.playBtn.setAttribute("aria-hidden","true"),e.loader.setAttribute("aria-hidden","false")):(e.playBtn.setAttribute("aria-hidden",t instanceof T.default?"false":"true"),e.loader.setAttribute("aria-hidden","true"))},k(this,d).play=function(){e.playBtn.classList.add("op-player__play--paused"),e.playBtn.title=k(e,y).labels.pause,e.loader.setAttribute("aria-hidden","true"),k(e,y).showLoaderOnInit?e.playBtn.setAttribute("aria-hidden","true"):setTimeout((function(){e.playBtn.setAttribute("aria-hidden","true")}),k(e,y).hidePlayBtnTimer)},k(this,d).playing=function(){e.loader.setAttribute("aria-hidden","true"),e.playBtn.setAttribute("aria-hidden","true")},k(this,d).pause=function(){var t=e.activeElement();e.playBtn.classList.remove("op-player__play--paused"),e.playBtn.title=k(e,y).labels.play,k(e,y).showLoaderOnInit&&0===Math.round(t.currentTime)?(e.playBtn.setAttribute("aria-hidden","true"),e.loader.setAttribute("aria-hidden","false")):(e.playBtn.setAttribute("aria-hidden","false"),e.loader.setAttribute("aria-hidden","true"))},k(this,d).ended=function(){e.loader.setAttribute("aria-hidden","true"),e.playBtn.setAttribute("aria-hidden","true")}),Object.keys(k(this,d)).forEach((function(t){k(e,l).addEventListener(t,k(e,d)[t],L.EVENT_OPTIONS)})),this.getContainer().addEventListener("keydown",this._enableKeyBindings,L.EVENT_OPTIONS)}},{key:"_autoplay",value:function(){var e=this;k(this,m)||(_(this,m,!0),k(this,l).removeEventListener("canplay",this._autoplay),N.isAutoplaySupported(k(this,l),k(this,f),(function(t){_(e,p,t)}),(function(t){_(e,v,t)}),(function(){if(k(e,v)){e.activeElement().muted=!0,e.activeElement().volume=0;var t=M.addEvent("volumechange");k(e,l).dispatchEvent(t);var n=document.createElement("div"),i=L.IS_IOS||L.IS_ANDROID?k(e,y).labels.tap:k(e,y).labels.click;n.className="op-player__unmute",n.innerHTML="<span>".concat(i,"</span>"),n.tabIndex=0,n.addEventListener("click",(function(){e.activeElement().muted=!1,e.activeElement().volume=k(e,f);var t=M.addEvent("volumechange");k(e,l).dispatchEvent(t),P.removeElement(n)}),L.EVENT_OPTIONS);var r=e.getContainer();r.insertBefore(n,r.firstChild)}else e.activeElement().muted=k(e,l).muted,e.activeElement().volume=k(e,f);if(k(e,c)){var s=k(e,y)&&k(e,y).ads?k(e,y).ads:void 0;_(e,a,new S.default(e,k(e,c),k(e,p),k(e,v),s))}else if(k(e,p)||k(e,v))return e.play()})))}},{key:"_mergeOptions",value:function(e){var t=this;_(this,y,Object.assign(Object.assign({},k(this,b)),e)),e&&["labels","controls"].forEach((function(n){k(t,y)[n]=e[n]&&Object.keys(e[n]).length?Object.assign(Object.assign({},k(t,b)[n]),e[n]):k(t,b)[n]}))}},{key:"_enableKeyBindings",value:function(e){var t,n,i=e.which||e.keyCode||0,r=this.activeElement(),s=this.isAd(),a=null===(t=null===document||void 0===document?void 0:document.activeElement)||void 0===t?void 0:t.classList.contains("op-player");switch(i){case 13:case 32:case 75:!a||13!==i&&32!==i?75===i&&(r.paused?r.play():r.pause()):r.paused?r.play():r.pause(),e.preventDefault(),e.stopPropagation();break;case 35:s||r.duration===1/0||(r.currentTime=r.duration,e.preventDefault(),e.stopPropagation());break;case 36:s||(r.currentTime=0,e.preventDefault(),e.stopPropagation());break;case 37:case 39:case 74:case 76:if(!s&&r.duration!==1/0){var o=5,c=this.getOptions().step;c?o=74===i||76===i?2*c:c:74!==i&&76!==i||(o=10);var u=r.duration!==1/0?o:this.getOptions().progress.duration;r.currentTime+=37===i||74===i?-1*u:u,r.currentTime<0?r.currentTime=0:r.currentTime>=r.duration&&(r.currentTime=r.duration),e.preventDefault(),e.stopPropagation()}break;case 38:case 40:var d=38===i?Math.min(r.volume+.1,1):Math.max(r.volume-.1,0);r.volume=d,r.muted=!(d>0),e.preventDefault(),e.stopPropagation();break;case 70:P.isVideo(k(this,l))&&!e.ctrlKey&&(_(this,E,new O.default(this,"","")),void 0!==k(this,E).fullScreenEnabled&&(k(this,E).toggleFullscreen(),e.preventDefault(),e.stopPropagation()));break;case 77:r.muted=!r.muted,r.muted?r.volume=0:r.volume=k(this,f),e.preventDefault(),e.stopPropagation();break;case 188:case 190:if(!s&&e.shiftKey){var h=r;h.playbackRate=188===i?Math.max(h.playbackRate-.25,.25):Math.min(h.playbackRate+.25,2);var p=this.getContainer().querySelector(".op-status>span");p&&(p.textContent="".concat(h.playbackRate,"x"),null===(n=p.parentElement)||void 0===n||n.setAttribute("aria-hidden","false"),setTimeout((function(){var e;null===(e=p.parentElement)||void 0===e||e.setAttribute("aria-hidden","true")}),500));var v=M.addEvent("controlschanged");dispatchEvent(v),e.preventDefault(),e.stopPropagation()}else!s&&r.paused&&(r.currentTime+=.04*(188===i?-1:1),e.preventDefault(),e.stopPropagation())}}},{key:"src",set:function(e){var t=this;k(this,u)instanceof T.default?(k(this,u).mediaFiles=[],k(this,u).src=e):"string"==typeof e?k(this,l).src=e:Array.isArray(e)?e.forEach((function(e){var n=document.createElement("source");n.src=e.src,n.type=e.type||N.predictType(e.src),k(t,l).appendChild(n)})):"object"===i(e)&&(k(this,l).src=e.src)},get:function(){return k(this,u).src}},{key:"id",get:function(){return k(this,o)}}])&&r(t.prototype,n),w&&r(t,w),e}();s=new WeakMap,a=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,f=new WeakMap,p=new WeakMap,v=new WeakMap,m=new WeakMap,y=new WeakMap,g=new WeakMap,E=new WeakMap,b=new WeakMap,I.instances={},I.customMedia={media:{},optionsKey:{},rules:[]},t.default=I,"undefined"!=typeof window&&(window.OpenPlayer=I,window.OpenPlayerJS=I,I.init())},function(e,t,n){"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,s=r&&!i.call({1:2},1);t.f=s?function(e){var t=r(this,e);return!!t&&t.enumerable}:i},function(e,t,n){var i=n(57);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var i=n(58),r=n(5);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},function(e,t,n){var i,r,s=n(0),a=n(36),o=s.process,l=s.Deno,c=o&&o.versions||l&&l.version,u=c&&c.v8;u?r=(i=u.split("."))[0]<4?1:i[0]+i[1]:a&&(!(i=a.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=a.match(/Chrome\/(\d+)/))&&(r=i[1]),e.exports=r&&+r},function(e,t,n){var i=n(19),r=n(37);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.16.0",mode:i?"pure":"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+i).toString(36)}},function(e,t,n){var i=n(11),r=n(5),s=n(39);e.exports=!i&&!r((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var i=n(9),r=n(23),s=n(93).indexOf,a=n(42);e.exports=function(e,t){var n,o=r(e),l=0,c=[];for(n in o)!i(a,n)&&i(o,n)&&c.push(n);for(;t.length>l;)i(o,n=t[l++])&&(~s(c,n)||c.push(n));return c}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var i=n(5),r=/#|\.prototype\./,s=function(e,t){var n=o[a(e)];return n==c||n!=l&&("function"==typeof t?i(t):!!t)},a=s.normalize=function(e){return String(e).replace(r,".").toLowerCase()},o=s.data={},l=s.NATIVE="N",c=s.POLYFILL="P";e.exports=s},function(e,t,n){var i=n(3),r=n(45),s=n(12),a=i("unscopables"),o=Array.prototype;null==o[a]&&s.f(o,a,{configurable:!0,value:r(null)}),e.exports=function(e){o[a][e]=!0}},function(e,t,n){var i=n(10);e.exports=i("document","documentElement")},function(e,t,n){"use strict";var i=n(103).charAt,r=n(47),s=n(25),a=n(68),o=s.set,l=s.getterFor("String Iterator");a(String,"String",(function(e){o(this,{type:"String Iterator",string:r(e),index:0})}),(function(){var e,t=l(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=i(n,r),t.index+=e.length,{value:e,done:!1})}))},function(e,t,n){"use strict";var i=n(4),r=n(104),s=n(48),a=n(50),o=n(49),l=n(15),c=n(16),u=n(3),d=n(19),h=n(21),f=n(69),p=f.IteratorPrototype,v=f.BUGGY_SAFARI_ITERATORS,m=u("iterator"),y=function(){return this};e.exports=function(e,t,n,u,f,g,E){r(n,t,u);var b,_,k,w=function(e){if(e===f&&L)return L;if(!v&&e in T)return T[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},A=t+" Iterator",O=!1,T=e.prototype,S=T[m]||T["@@iterator"]||f&&T[f],L=!v&&S||w(f),M="Array"==t&&T.entries||S;if(M&&(b=s(M.call(new e)),p!==Object.prototype&&b.next&&(d||s(b)===p||(a?a(b,p):"function"!=typeof b[m]&&l(b,m,y)),o(b,A,!0,!0),d&&(h[A]=y))),"values"==f&&S&&"values"!==S.name&&(O=!0,L=function(){return S.call(this)}),d&&!E||T[m]===L||l(T,m,L),h[t]=L,f)if(_={values:w("values"),keys:g?L:w("keys"),entries:w("entries")},E)for(k in _)(v||O||!(k in T))&&c(T,k,_[k]);else i({target:t,proto:!0,forced:v||O},_);return _}},function(e,t,n){"use strict";var i,r,s,a=n(5),o=n(48),l=n(15),c=n(9),u=n(3),d=n(19),h=u("iterator"),f=!1;[].keys&&("next"in(s=[].keys())?(r=o(o(s)))!==Object.prototype&&(i=r):f=!0);var p=null==i||a((function(){var e={};return i[h].call(e)!==e}));p&&(i={}),d&&!p||c(i,h)||l(i,h,(function(){return this})),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:f}},function(e,t,n){var i=n(7);e.exports=function(e){var t=e.return;if(void 0!==t)return i(t.call(e)).value}},function(e,t,n){var i=n(3),r=n(21),s=i("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[s]===e)}},function(e,t,n){var i=n(73),r=n(21),s=n(3)("iterator");e.exports=function(e){if(null!=e)return e[s]||e["@@iterator"]||r[i(e)]}},function(e,t,n){var i=n(51),r=n(24),s=n(3)("toStringTag"),a="Arguments"==r(function(){return arguments}());e.exports=i?r:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),s))?n:a?r(t):"Object"==(i=r(t))&&"function"==typeof t.callee?"Arguments":i}},function(e,t,n){var i=n(3)("iterator"),r=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){r=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var s={};s[i]=function(){return{next:function(){return{done:n=!0}}}},e(s)}catch(e){}return n}},function(e,t,n){"use strict";var i=n(4),r=n(48),s=n(50),a=n(45),o=n(15),l=n(18),c=n(28),u=n(47),d=function(e,t){var n=this;if(!(n instanceof d))return new d(e,t);s&&(n=s(new Error(void 0),r(n))),void 0!==t&&o(n,"message",u(t));var i=[];return c(e,i.push,{that:i}),o(n,"errors",i),n};d.prototype=a(Error.prototype,{constructor:l(5,d),message:l(5,""),name:l(5,"AggregateError")}),i({global:!0},{AggregateError:d})},function(e,t,n){var i=n(0);e.exports=i.Promise},function(e,t,n){var i=n(7),r=n(17),s=n(3)("species");e.exports=function(e,t){var n,a=i(e).constructor;return void 0===a||null==(n=i(a)[s])?t:r(n)}},function(e,t,n){var i,r,s,a,o=n(0),l=n(5),c=n(20),u=n(66),d=n(39),h=n(79),f=n(52),p=o.setImmediate,v=o.clearImmediate,m=o.process,y=o.MessageChannel,g=o.Dispatch,E=0,b={};try{i=o.location}catch(e){}var _=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},k=function(e){return function(){_(e)}},w=function(e){_(e.data)},A=function(e){o.postMessage(String(e),i.protocol+"//"+i.host)};p&&v||(p=function(e){for(var t=[],n=arguments.length,i=1;n>i;)t.push(arguments[i++]);return b[++E]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(E),E},v=function(e){delete b[e]},f?r=function(e){m.nextTick(k(e))}:g&&g.now?r=function(e){g.now(k(e))}:y&&!h?(a=(s=new y).port2,s.port1.onmessage=w,r=c(a.postMessage,a,1)):o.addEventListener&&"function"==typeof postMessage&&!o.importScripts&&i&&"file:"!==i.protocol&&!l(A)?(r=A,o.addEventListener("message",w,!1)):r="onreadystatechange"in d("script")?function(e){u.appendChild(d("script")).onreadystatechange=function(){u.removeChild(this),_(e)}}:function(e){setTimeout(k(e),0)}),e.exports={set:p,clear:v}},function(e,t,n){var i=n(36);e.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(i)},function(e,t,n){var i=n(7),r=n(8),s=n(22);e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=s.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var i=n(4),r=n(17),s=n(22),a=n(29),o=n(28);i({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=s.f(t),i=n.resolve,l=n.reject,c=a((function(){var n=r(t.resolve),s=[],a=0,l=1;o(e,(function(e){var r=a++,o=!1;s.push(void 0),l++,n.call(t,e).then((function(e){o||(o=!0,s[r]={status:"fulfilled",value:e},--l||i(s))}),(function(e){o||(o=!0,s[r]={status:"rejected",reason:e},--l||i(s))}))})),--l||i(s)}));return c.error&&l(c.value),n.promise}})},function(e,t,n){"use strict";var i=n(4),r=n(17),s=n(10),a=n(22),o=n(29),l=n(28);i({target:"Promise",stat:!0},{any:function(e){var t=this,n=a.f(t),i=n.resolve,c=n.reject,u=o((function(){var n=r(t.resolve),a=[],o=0,u=1,d=!1;l(e,(function(e){var r=o++,l=!1;a.push(void 0),u++,n.call(t,e).then((function(e){l||d||(d=!0,i(e))}),(function(e){l||d||(l=!0,a[r]=e,--u||c(new(s("AggregateError"))(a,"No one promise resolved")))}))})),--u||c(new(s("AggregateError"))(a,"No one promise resolved"))}));return u.error&&c(u.value),n.promise}})},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,s,a,o,l,c,u,d,h,f,p=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},v=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};Object.defineProperty(t,"__esModule",{value:!0});var m=n(1),y=n(2),g=function(){function e(t,n,i){var y=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.set(this,void 0),s.set(this,void 0),a.set(this,void 0),o.set(this,[]),l.set(this,0),c.set(this,0),u.set(this,void 0),d.set(this,void 0),h.set(this,void 0),f.set(this,void 0),p(this,r,t),p(this,d,t.getOptions().labels),p(this,h,n),p(this,f,i),p(this,s,document.body.classList.contains("op-fullscreen__on"));var g=document;return this.fullScreenEnabled=!!(g.fullscreenEnabled||g.mozFullScreenEnabled||g.msFullscreenEnabled||g.webkitSupportsFullscreen||g.webkitFullscreenEnabled||document.createElement("video").webkitRequestFullScreen),this._keydownEvent=this._keydownEvent.bind(this),this._fullscreenChange=this._fullscreenChange.bind(this),p(this,o,["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange"]),v(this,o).forEach((function(e){document.addEventListener(e,y._fullscreenChange,m.EVENT_OPTIONS)})),this._setFullscreenData(!1),v(this,r).getContainer().addEventListener("keydown",this._keydownEvent,m.EVENT_OPTIONS),m.IS_IPHONE&&(v(this,r).getElement().addEventListener("webkitbeginfullscreen",(function(){p(y,s,!0),y._setFullscreenData(!0),document.body.classList.add("op-fullscreen__on")}),m.EVENT_OPTIONS),v(this,r).getElement().addEventListener("webkitendfullscreen",(function(){p(y,s,!1),y._setFullscreenData(!1),document.body.classList.remove("op-fullscreen__on")}),m.EVENT_OPTIONS)),this}var t,n,g;return t=e,(n=[{key:"create",value:function(){var e=this;p(this,a,document.createElement("button")),v(this,a).type="button",v(this,a).className="op-controls__fullscreen op-control__".concat(v(this,h)),v(this,a).tabIndex=0,v(this,a).title=v(this,d).fullscreen,v(this,a).setAttribute("aria-controls",v(this,r).id),v(this,a).setAttribute("aria-pressed","false"),v(this,a).setAttribute("aria-label",v(this,d).fullscreen),v(this,a).innerHTML='<span class="op-sr">'.concat(v(this,d).fullscreen,"</span>"),p(this,u,(function(){v(e,a).setAttribute("aria-pressed","true"),e.toggleFullscreen()})),p(this,u,v(this,u).bind(this)),v(this,a).addEventListener("click",v(this,u),m.EVENT_OPTIONS),v(this,r).getControls().getLayer(v(this,f)).appendChild(v(this,a))}},{key:"destroy",value:function(){var e=this;v(this,r).getContainer().removeEventListener("keydown",this._keydownEvent),v(this,o).forEach((function(t){document.removeEventListener(t,e._fullscreenChange)})),m.IS_IPHONE&&(v(this,r).getElement().removeEventListener("webkitbeginfullscreen",(function(){p(e,s,!0),e._setFullscreenData(!1),document.body.classList.add("op-fullscreen__on")})),v(this,r).getElement().removeEventListener("webkitendfullscreen",(function(){p(e,s,!1),e._setFullscreenData(!0),document.body.classList.remove("op-fullscreen__on")}))),v(this,a).removeEventListener("click",v(this,u)),y.removeElement(v(this,a))}},{key:"toggleFullscreen",value:function(){if(v(this,s)){var e=document;e.exitFullscreen?e.exitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():document.webkitCancelFullScreen?e.webkitCancelFullScreen():e.msExitFullscreen?e.msExitFullscreen():this._fullscreenChange(),document.body.classList.remove("op-fullscreen__on")}else{var t=v(this,r).getElement();p(this,l,window.screen.width),p(this,c,window.screen.height),t.requestFullscreen?t.parentElement.requestFullscreen():t.mozRequestFullScreen?t.parentElement.mozRequestFullScreen():t.webkitRequestFullScreen?t.parentElement.webkitRequestFullScreen():t.msRequestFullscreen?t.parentElement.msRequestFullscreen():t.webkitEnterFullscreen?t.webkitEnterFullscreen():this._fullscreenChange(),document.body.classList.add("op-fullscreen__on")}if("undefined"!=typeof window&&(m.IS_ANDROID||m.IS_IPHONE)){var n=window.screen;n.orientation&&(v(this,s)||n.orientation.lock("landscape"))}}},{key:"_fullscreenChange",value:function(){var e=v(this,s)?void 0:v(this,l),t=v(this,s)?void 0:v(this,c);this._setFullscreenData(!v(this,s)),v(this,r).isAd()&&v(this,r).getAd().resizeAds(e,t),p(this,s,!v(this,s)),v(this,s)?document.body.classList.add("op-fullscreen__on"):document.body.classList.remove("op-fullscreen__on"),this._resize(e,t)}},{key:"_setFullscreenData",value:function(e){v(this,r).getContainer().setAttribute("data-fullscreen",(!!e).toString()),v(this,a)&&(e?v(this,a).classList.add("op-controls__fullscreen--out"):v(this,a).classList.remove("op-controls__fullscreen--out"))}},{key:"_resize",value:function(e,t){var n=v(this,r).getContainer(),i=v(this,r).getElement(),s=v(this,r).getOptions(),a="";if(e)n.style.width="100%",i.style.width="100%";else if(s.width){var o="number"==typeof s.width?"".concat(s.width,"px"):s.width;a+="width: ".concat(o," !important;"),i.style.removeProperty("width")}else i.style.removeProperty("width"),n.style.removeProperty("width");if(t)i.style.height="100%",n.style.height="100%";else if(s.height){var l="number"==typeof s.height?"".concat(s.height,"px"):s.height;a+="height: ".concat(l," !important;"),i.style.removeProperty("height")}else i.style.removeProperty("height"),n.style.removeProperty("height");a&&n.setAttribute("style",a)}},{key:"_keydownEvent",value:function(e){var t,n=e.which||e.keyCode||0;!(null===(t=null===document||void 0===document?void 0:document.activeElement)||void 0===t?void 0:t.classList.contains("op-controls__fullscreen"))||13!==n&&32!==n||(this.toggleFullscreen(),e.preventDefault(),e.stopPropagation())}}])&&i(t.prototype,n),g&&i(t,g),e}();r=new WeakMap,s=new WeakMap,a=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,f=new WeakMap,t.default=g},function(e,t,n){var i=n(85);e.exports=i},function(e,t,n){n(86);var i=n(100);e.exports=i("Array","find")},function(e,t,n){"use strict";var i=n(4),r=n(95).find,s=n(65),a=!0;"find"in[]&&Array(1).find((function(){a=!1})),i({target:"Array",proto:!0,forced:a},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),s("find")},function(e,t,n){var i=n(8),r=n(35),s=n(88),a=n(3)("toPrimitive");e.exports=function(e,t){if(!i(e)||r(e))return e;var n,o=e[a];if(void 0!==o){if(void 0===t&&(t="default"),n=o.call(e,t),!i(n)||r(n))return n;throw TypeError("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},function(e,t,n){var i=n(8);e.exports=function(e,t){var n,r;if("string"===t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if("string"!==t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var i=n(0),r=n(40),s=i.WeakMap;e.exports="function"==typeof s&&/native code/.test(r(s))},function(e,t,n){var i=n(9),r=n(91),s=n(31),a=n(12);e.exports=function(e,t){for(var n=r(t),o=a.f,l=s.f,c=0;c<n.length;c++){var u=n[c];i(e,u)||o(e,u,l(t,u))}}},function(e,t,n){var i=n(10),r=n(92),s=n(63),a=n(7);e.exports=i("Reflect","ownKeys")||function(e){var t=r.f(a(e)),n=s.f;return n?t.concat(n(e)):t}},function(e,t,n){var i=n(62),r=n(44).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},function(e,t,n){var i=n(23),r=n(26),s=n(94),a=function(e){return function(t,n,a){var o,l=i(t),c=r(l.length),u=s(a,c);if(e&&n!=n){for(;c>u;)if((o=l[u++])!=o)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t,n){var i=n(43),r=Math.max,s=Math.min;e.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):s(n,t)}},function(e,t,n){var i=n(20),r=n(32),s=n(14),a=n(26),o=n(96),l=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,u=4==e,d=6==e,h=7==e,f=5==e||d;return function(p,v,m,y){for(var g,E,b=s(p),_=r(b),k=i(v,m,3),w=a(_.length),A=0,O=y||o,T=t?O(p,w):n||h?O(p,0):void 0;w>A;A++)if((f||A in _)&&(E=k(g=_[A],A,b),e))if(t)T[A]=E;else if(E)switch(e){case 3:return!0;case 5:return g;case 6:return A;case 2:l.call(T,g)}else switch(e){case 4:return!1;case 7:l.call(T,g)}return d?-1:c||u?u:T}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},function(e,t,n){var i=n(97);e.exports=function(e,t){return new(i(e))(0===t?0:t)}},function(e,t,n){var i=n(8),r=n(98),s=n(3)("species");e.exports=function(e){var t;return r(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!r(t.prototype)?i(t)&&null===(t=t[s])&&(t=void 0):t=void 0),void 0===t?Array:t}},function(e,t,n){var i=n(24);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,n){var i=n(11),r=n(12),s=n(7),a=n(46);e.exports=i?Object.defineProperties:function(e,t){s(e);for(var n,i=a(t),o=i.length,l=0;o>l;)r.f(e,n=i[l++],t[n]);return e}},function(e,t,n){var i=n(0),r=n(20),s=Function.call;e.exports=function(e,t,n){return r(s,i[e].prototype[t],n)}},function(e,t,n){var i=n(102);e.exports=i},function(e,t,n){n(67),n(107);var i=n(27);e.exports=i.Array.from},function(e,t,n){var i=n(43),r=n(47),s=n(33),a=function(e){return function(t,n){var a,o,l=r(s(t)),c=i(n),u=l.length;return c<0||c>=u?e?"":void 0:(a=l.charCodeAt(c))<55296||a>56319||c+1===u||(o=l.charCodeAt(c+1))<56320||o>57343?e?l.charAt(c):a:e?l.slice(c,c+2):o-56320+(a-55296<<10)+65536}};e.exports={codeAt:a(!1),charAt:a(!0)}},function(e,t,n){"use strict";var i=n(69).IteratorPrototype,r=n(45),s=n(18),a=n(49),o=n(21),l=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=r(i,{next:s(1,n)}),a(e,c,!1,!0),o[c]=l,e}},function(e,t,n){var i=n(5);e.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var i=n(8);e.exports=function(e){if(!i(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,n){var i=n(4),r=n(108);i({target:"Array",stat:!0,forced:!n(74)((function(e){Array.from(e)}))},{from:r})},function(e,t,n){"use strict";var i=n(20),r=n(14),s=n(109),a=n(71),o=n(26),l=n(110),c=n(72);e.exports=function(e){var t,n,u,d,h,f,p=r(e),v="function"==typeof this?this:Array,m=arguments.length,y=m>1?arguments[1]:void 0,g=void 0!==y,E=c(p),b=0;if(g&&(y=i(y,m>2?arguments[2]:void 0,2)),null==E||v==Array&&a(E))for(n=new v(t=o(p.length));t>b;b++)f=g?y(p[b],b):p[b],l(n,b,f);else for(h=(d=E.call(p)).next,n=new v;!(u=h.call(d)).done;b++)f=g?s(d,y,[u.value,b],!0):u.value,l(n,b,f);return n.length=b,n}},function(e,t,n){var i=n(7),r=n(70);e.exports=function(e,t,n,s){try{return s?t(i(n)[0],n[1]):t(n)}catch(t){throw r(e),t}}},function(e,t,n){"use strict";var i=n(34),r=n(12),s=n(18);e.exports=function(e,t,n){var a=i(t);a in e?r.f(e,a,s(0,n)):e[a]=n}},function(e,t,n){var i=n(112);e.exports=i},function(e,t,n){n(113);var i=n(27);e.exports=i.Object.assign},function(e,t,n){var i=n(4),r=n(114);i({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},function(e,t,n){"use strict";var i=n(11),r=n(5),s=n(46),a=n(63),o=n(55),l=n(14),c=n(32),u=Object.assign,d=Object.defineProperty;e.exports=!u||r((function(){if(i&&1!==u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||"abcdefghijklmnopqrst"!=s(u({},t)).join("")}))?function(e,t){for(var n=l(e),r=arguments.length,u=1,d=a.f,h=o.f;r>u;)for(var f,p=c(arguments[u++]),v=d?s(p).concat(d(p)):s(p),m=v.length,y=0;m>y;)f=v[y++],i&&!h.call(p,f)||(n[f]=p[f]);return n}:u},function(e,t,n){var i=n(116);e.exports=i},function(e,t,n){n(117);var i=n(27);e.exports=i.Object.keys},function(e,t,n){var i=n(4),r=n(14),s=n(46);i({target:"Object",stat:!0,forced:n(5)((function(){s(1)}))},{keys:function(e){return s(r(e))}})},function(e,t,n){var i=n(119);n(132),n(133),n(134),n(135),e.exports=i},function(e,t,n){n(75),n(120),n(121),n(123),n(81),n(82),n(131),n(67);var i=n(27);e.exports=i.Promise},function(e,t,n){"use strict";var i=n(23),r=n(65),s=n(21),a=n(25),o=n(68),l=a.set,c=a.getterFor("Array Iterator");e.exports=o(Array,"Array",(function(e,t){l(this,{type:"Array Iterator",target:i(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}}),"values"),s.Arguments=s.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var i=n(51),r=n(16),s=n(122);i||r(Object.prototype,"toString",s,{unsafe:!0})},function(e,t,n){"use strict";var i=n(51),r=n(73);e.exports=i?{}.toString:function(){return"[object "+r(this)+"]"}},function(e,t,n){"use strict";var i,r,s,a,o=n(4),l=n(19),c=n(0),u=n(10),d=n(76),h=n(16),f=n(124),p=n(50),v=n(49),m=n(125),y=n(8),g=n(17),E=n(126),b=n(40),_=n(28),k=n(74),w=n(77),A=n(78).set,O=n(127),T=n(80),S=n(129),L=n(22),M=n(29),P=n(25),N=n(64),I=n(3),C=n(130),x=n(52),j=n(58),R=I("species"),D="Promise",W=P.get,V=P.set,F=P.getterFor(D),H=d&&d.prototype,B=d,q=H,U=c.TypeError,z=c.document,G=c.process,K=L.f,X=K,$=!!(z&&z.createEvent&&c.dispatchEvent),Q="function"==typeof PromiseRejectionEvent,J=!1,Y=N(D,(function(){var e=b(B),t=e!==String(B);if(!t&&66===j)return!0;if(l&&!q.finally)return!0;if(j>=51&&/native code/.test(e))return!1;var n=new B((function(e){e(1)})),i=function(e){e((function(){}),(function(){}))};return(n.constructor={})[R]=i,!(J=n.then((function(){}))instanceof i)||!t&&C&&!Q})),Z=Y||!k((function(e){B.all(e).catch((function(){}))})),ee=function(e){var t;return!(!y(e)||"function"!=typeof(t=e.then))&&t},te=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;O((function(){for(var i=e.value,r=1==e.state,s=0;n.length>s;){var a,o,l,c=n[s++],u=r?c.ok:c.fail,d=c.resolve,h=c.reject,f=c.domain;try{u?(r||(2===e.rejection&&se(e),e.rejection=1),!0===u?a=i:(f&&f.enter(),a=u(i),f&&(f.exit(),l=!0)),a===c.promise?h(U("Promise-chain cycle")):(o=ee(a))?o.call(a,d,h):d(a)):h(i)}catch(e){f&&!l&&f.exit(),h(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&ie(e)}))}},ne=function(e,t,n){var i,r;$?((i=z.createEvent("Event")).promise=t,i.reason=n,i.initEvent(e,!1,!0),c.dispatchEvent(i)):i={promise:t,reason:n},!Q&&(r=c["on"+e])?r(i):"unhandledrejection"===e&&S("Unhandled promise rejection",n)},ie=function(e){A.call(c,(function(){var t,n=e.facade,i=e.value;if(re(e)&&(t=M((function(){x?G.emit("unhandledRejection",i,n):ne("unhandledrejection",n,i)})),e.rejection=x||re(e)?2:1,t.error))throw t.value}))},re=function(e){return 1!==e.rejection&&!e.parent},se=function(e){A.call(c,(function(){var t=e.facade;x?G.emit("rejectionHandled",t):ne("rejectionhandled",t,e.value)}))},ae=function(e,t,n){return function(i){e(t,i,n)}},oe=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,te(e,!0))},le=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw U("Promise can't be resolved itself");var i=ee(t);i?O((function(){var n={done:!1};try{i.call(t,ae(le,n,e),ae(oe,n,e))}catch(t){oe(n,t,e)}})):(e.value=t,e.state=1,te(e,!1))}catch(t){oe({done:!1},t,e)}}};if(Y&&(q=(B=function(e){E(this,B,D),g(e),i.call(this);var t=W(this);try{e(ae(le,t),ae(oe,t))}catch(e){oe(t,e)}}).prototype,(i=function(e){V(this,{type:D,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=f(q,{then:function(e,t){var n=F(this),i=K(w(this,B));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=x?G.domain:void 0,n.parent=!0,n.reactions.push(i),0!=n.state&&te(n,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),r=function(){var e=new i,t=W(e);this.promise=e,this.resolve=ae(le,t),this.reject=ae(oe,t)},L.f=K=function(e){return e===B||e===s?new r(e):X(e)},!l&&"function"==typeof d&&H!==Object.prototype)){a=H.then,J||(h(H,"then",(function(e,t){var n=this;return new B((function(e,t){a.call(n,e,t)})).then(e,t)}),{unsafe:!0}),h(H,"catch",q.catch,{unsafe:!0}));try{delete H.constructor}catch(e){}p&&p(H,q)}o({global:!0,wrap:!0,forced:Y},{Promise:B}),v(B,D,!1,!0),m(D),s=u(D),o({target:D,stat:!0,forced:Y},{reject:function(e){var t=K(this);return t.reject.call(void 0,e),t.promise}}),o({target:D,stat:!0,forced:l||Y},{resolve:function(e){return T(l&&this===s?B:this,e)}}),o({target:D,stat:!0,forced:Z},{all:function(e){var t=this,n=K(t),i=n.resolve,r=n.reject,s=M((function(){var n=g(t.resolve),s=[],a=0,o=1;_(e,(function(e){var l=a++,c=!1;s.push(void 0),o++,n.call(t,e).then((function(e){c||(c=!0,s[l]=e,--o||i(s))}),r)})),--o||i(s)}));return s.error&&r(s.value),n.promise},race:function(e){var t=this,n=K(t),i=n.reject,r=M((function(){var r=g(t.resolve);_(e,(function(e){r.call(t,e).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}})},function(e,t,n){var i=n(16);e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},function(e,t,n){"use strict";var i=n(10),r=n(12),s=n(3),a=n(11),o=s("species");e.exports=function(e){var t=i(e),n=r.f;a&&t&&!t[o]&&n(t,o,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){var i,r,s,a,o,l,c,u,d=n(0),h=n(31).f,f=n(78).set,p=n(79),v=n(128),m=n(52),y=d.MutationObserver||d.WebKitMutationObserver,g=d.document,E=d.process,b=d.Promise,_=h(d,"queueMicrotask"),k=_&&_.value;k||(i=function(){var e,t;for(m&&(e=E.domain)&&e.exit();r;){t=r.fn,r=r.next;try{t()}catch(e){throw r?a():s=void 0,e}}s=void 0,e&&e.enter()},p||m||v||!y||!g?b&&b.resolve?((c=b.resolve(void 0)).constructor=b,u=c.then,a=function(){u.call(c,i)}):a=m?function(){E.nextTick(i)}:function(){f.call(d,i)}:(o=!0,l=g.createTextNode(""),new y(i).observe(l,{characterData:!0}),a=function(){l.data=o=!o})),e.exports=k||function(e){var t={fn:e,next:void 0};s&&(s.next=t),r||(r=t,a()),s=t}},function(e,t,n){var i=n(36);e.exports=/web0s(?!.*chrome)/i.test(i)},function(e,t,n){var i=n(0);e.exports=function(e,t){var n=i.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t){e.exports="object"==typeof window},function(e,t,n){"use strict";var i=n(4),r=n(19),s=n(76),a=n(5),o=n(10),l=n(77),c=n(80),u=n(16);if(i({target:"Promise",proto:!0,real:!0,forced:!!s&&a((function(){s.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=l(this,o("Promise")),n="function"==typeof e;return this.then(n?function(n){return c(t,e()).then((function(){return n}))}:e,n?function(n){return c(t,e()).then((function(){throw n}))}:e)}}),!r&&"function"==typeof s){var d=o("Promise").prototype.finally;s.prototype.finally!==d&&u(s.prototype,"finally",d,{unsafe:!0})}},function(e,t,n){n(75)},function(e,t,n){n(81)},function(e,t,n){"use strict";var i=n(4),r=n(22),s=n(29);i({target:"Promise",stat:!0},{try:function(e){var t=r.f(this),n=s(e);return(n.error?t.reject:t.resolve)(n.value),t.promise}})},function(e,t,n){n(82)},function(e,t){!function(){if("undefined"!=typeof window)try{var e=new window.CustomEvent("test",{cancelable:!0});if(e.preventDefault(),!0!==e.defaultPrevented)throw new Error("Could not prevent default")}catch(e){var t=function(e,t){var n,i;return(t=t||{}).bubbles=!!t.bubbles,t.cancelable=!!t.cancelable,(n=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i=n.preventDefault,n.preventDefault=function(){i.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},n};t.prototype=window.Event.prototype,window.CustomEvent=t}}()},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(138));"undefined"!=typeof window&&r.default(window)},function(e,t,n){"use strict";n.r(t),t.default=function(e){var t=e.Element.prototype;"function"!=typeof t.matches&&(t.matches=t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=0;t[n]&&t[n]!==this;)++n;return Boolean(t[n])}),"function"!=typeof t.closest&&(t.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentNode}return null})}},function(e,t,n){"use strict";function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(i=(a=o.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,s=e}finally{try{i||null==o.return||o.return()}finally{if(r)throw s}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a,o,l,c,u,d,h=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},f=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},p=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var v=p(n(140)),m=p(n(83)),y=p(n(141)),g=p(n(142)),E=p(n(143)),b=p(n(144)),_=p(n(145)),k=p(n(146)),w=n(1),A=n(6),O=n(2),T=function(){function e(t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.events={media:{},mouse:{}},a.set(this,void 0),o.set(this,0),l.set(this,void 0),c.set(this,void 0),u.set(this,void 0),d.set(this,{Captions:v.default,Fullscreen:m.default,Levels:y.default,Play:g.default,Progress:E.default,Settings:b.default,Time:_.default,Volume:k.default}),h(this,c,t),this._setElements(),this}var t,n,r;return t=e,(n=[{key:"create",value:function(){var e=this;f(this,c).getElement().controls=!1;var t=O.isVideo(f(this,c).getElement());if(this._createControlsLayer(),this._buildElements(),this.events.controlschanged=function(){e.destroy(),e._setElements(),e.create()},this.events.ended=function(){f(e,c).getContainer().classList.remove("op-controls--hidden")},f(this,c).getElement().addEventListener("controlschanged",this.events.controlschanged,w.EVENT_OPTIONS),f(this,c).getElement().addEventListener("ended",this.events.ended,w.EVENT_OPTIONS),!f(this,c).getOptions().controls.alwaysVisible&&!w.IS_ANDROID&&!w.IS_IOS){var n=function(){t&&(f(e,c).getContainer().classList.remove("op-controls--hidden"),e._stopControlTimer())};this.events.mouse.mouseenter=function(){t&&!f(e,c).activeElement().paused&&(e._stopControlTimer(),f(e,c).activeElement().currentTime?(f(e,c).playBtn.setAttribute("aria-hidden",f(e,c).isMedia()?"false":"true"),f(e,c).loader.setAttribute("aria-hidden","true")):f(e,c).getOptions().showLoaderOnInit&&(f(e,c).playBtn.setAttribute("aria-hidden","true"),f(e,c).loader.setAttribute("aria-hidden","false")),f(e,c).getContainer().classList.remove("op-controls--hidden"),e._startControlTimer(2500))},this.events.mouse.mousemove=function(){t&&!f(e,c).activeElement().paused&&(f(e,c).activeElement().currentTime?(f(e,c).loader.setAttribute("aria-hidden","true"),f(e,c).playBtn.setAttribute("aria-hidden",f(e,c).isMedia()?"false":"true")):(f(e,c).playBtn.setAttribute("aria-hidden",f(e,c).getOptions().showLoaderOnInit?"true":"false"),f(e,c).loader.setAttribute("aria-hidden",f(e,c).getOptions().showLoaderOnInit?"false":"true")),f(e,c).getContainer().classList.remove("op-controls--hidden"),e._startControlTimer(2500))},this.events.mouse.mouseleave=function(){t&&!f(e,c).activeElement().paused&&e._startControlTimer(1e3)},this.events.media.play=function(){t&&e._startControlTimer(f(e,c).getOptions().hidePlayBtnTimer)},this.events.media.loadedmetadata=n.bind(this),this.events.media.pause=n.bind(this),this.events.media.waiting=n.bind(this),this.events.media.stalled=n.bind(this),this.events.media.playererror=n.bind(this),Object.keys(this.events.media).forEach((function(t){f(e,c).getElement().addEventListener(t,e.events.media[t],w.EVENT_OPTIONS)})),Object.keys(this.events.mouse).forEach((function(t){f(e,c).getContainer().addEventListener(t,e.events.mouse[t],w.EVENT_OPTIONS)})),this._startControlTimer(3e3)}}},{key:"destroy",value:function(){var e=this;w.IS_ANDROID||w.IS_IOS||(Object.keys(this.events.mouse).forEach((function(t){f(e,c).getContainer().removeEventListener(t,e.events.mouse[t])})),Object.keys(this.events.media).forEach((function(t){f(e,c).getElement().removeEventListener(t,e.events.media[t])})),this._stopControlTimer()),f(this,c).getElement().removeEventListener("controlschanged",this.events.controlschanged),f(this,c).getElement().removeEventListener("ended",this.events.ended),Object.keys(f(this,u)).forEach((function(t){f(e,u)[t].forEach((function(t){t.custom?e._destroyCustomControl(t):"function"==typeof t.destroy&&t.destroy()}))})),O.removeElement(f(this,l))}},{key:"getContainer",value:function(){return f(this,l)}},{key:"getLayer",value:function(e){return f(this,l).querySelector(".op-controls-layer__".concat(e))||f(this,l)}},{key:"_createControlsLayer",value:function(){if(!f(this,l)||!f(this,c).getContainer().querySelector(".op-controls")){h(this,l,document.createElement("div")),f(this,l).className="op-controls",f(this,c).getContainer().appendChild(f(this,l));var e=document.createElement("div");e.className="op-status",e.innerHTML="<span></span>",e.tabIndex=-1,e.setAttribute("aria-hidden","true"),O.isAudio(f(this,c).getElement())&&f(this,l).appendChild(e)}}},{key:"_startControlTimer",value:function(e){var t=this,n=f(this,c).activeElement();this._stopControlTimer(),"undefined"!=typeof window&&h(this,o,window.setTimeout((function(){if((!n.paused||!n.ended)&&O.isVideo(f(t,c).getElement())){f(t,c).getContainer().classList.add("op-controls--hidden"),f(t,c).playBtn.setAttribute("aria-hidden","true"),t._stopControlTimer();var e=A.addEvent("controlshidden");f(t,c).getElement().dispatchEvent(e)}}),e))}},{key:"_stopControlTimer",value:function(){0!==f(this,o)&&(clearTimeout(f(this,o)),h(this,o,0))}},{key:"_setElements",value:function(){var e=this,t=f(this,c).getOptions().controls.layers;h(this,u,{"bottom-left":[],"bottom-middle":[],"bottom-right":[],left:[],main:[],middle:[],right:[],"top-left":[],"top-middle":[],"top-right":[]});var n=O.isVideo(f(this,c).getElement()),r=O.isAudio(f(this,c).getElement()),s=Object.keys(t),o=s.find((function(e){return/^(top|bottom)/.test(e)}));this._createControlsLayer(),s.forEach((function(s){var p=i(s.split("-"),2),v=p[0],m=p[1];if(m){f(e,l).classList.contains("op-controls__stacked")||f(e,l).classList.add("op-controls__stacked");var y="op-controls-layer__".concat(v);if(!f(e,l).querySelector(".".concat(y))){var g=document.createElement("div");g.className=y,f(e,l).appendChild(g)}}else if(o&&!f(e,l).querySelector(".".concat("op-controls-layer__center"))){var E=document.createElement("div");E.className="op-controls-layer__center",f(e,l).appendChild(E)}t[s].filter((function(e,t,n){return n.indexOf(e)===t})).forEach((function(t){var i=o&&!m?"center":v,l="".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),p=new(f(e,d)[l])(f(e,c),m||v,i);"settings"===t&&h(e,a,p),(n||"fullscreen"!==t&&r)&&f(e,u)[s].push(p)}))})),f(this,c).getCustomControls().forEach((function(t){var n=i(t.position.split("-"),2),r=n[0],s=n[1],a=o&&!s?"center":r;t.layer=a,t.position=s||r,"right"===t.position?f(e,u)[t.position].unshift(t):f(e,u)[t.position].push(t)}))}},{key:"_buildElements",value:function(){var e=this;Object.keys(f(this,u)).forEach((function(t){f(e,u)[t].forEach((function(t){t.custom?e._createCustomControl(t):t.create()}))})),Object.keys(f(this,u)).forEach((function(t){f(e,u)[t].forEach((function(t){if((!f(e,c).getOptions().detachMenus||t instanceof b.default)&&!t.custom&&"function"==typeof t.addSettings){var n=t.addSettings();f(e,a)&&Object.keys(n).length&&f(e,a).addItem(n.name,n.key,n.default,n.subitems,n.className)}}))}));var t=A.addEvent("controlschanged");f(this,l).dispatchEvent(t)}},{key:"_hideCustomMenu",value:function(e){var t;t&&"undefined"!=typeof window&&window.cancelAnimationFrame(t),"undefined"!=typeof window&&(t=window.requestAnimationFrame((function(){e.setAttribute("aria-hidden","true")})))}},{key:"_toggleCustomMenu",value:function(e,t,n){f(this,c).getContainer().querySelectorAll(".op-settings").forEach((function(e){"false"===e.getAttribute("aria-hidden")&&e.id!==t.id&&e.setAttribute("aria-hidden","true")})),t.setAttribute("aria-hidden","true"===t.getAttribute("aria-hidden")?"false":"true"),"function"==typeof n.click&&n.click(e)}},{key:"_createCustomControl",value:function(e){var t=this,n=document.createElement("button"),i=/\.(jpg|png|svg|gif)$/.test(e.icon)?'<img src="'.concat(e.icon,'">'):e.icon;if(n.className="op-controls__".concat(e.id," op-control__").concat(e.position," ").concat(e.showInAds?"":"op-control__hide-in-ad"),n.tabIndex=0,n.id=e.id,n.title=e.title,n.innerHTML=e.content||"".concat(i,' <span class="op-sr">').concat(e.title,"</span>"),e.subitems&&Array.isArray(e.subitems)&&e.subitems.length>0){var r=document.createElement("div");r.className="op-settings op-settings__custom",r.id="".concat(e.id,"-menu"),r.setAttribute("aria-hidden","true");var s=e.subitems.map((function(t){var n="";return t.icon&&(n=/\.(jpg|png|svg|gif)$/.test(t.icon)?'<img src="'.concat(t.icon,'">'):t.icon),'<div class="op-settings__menu-item" tabindex="0" '.concat(t.title?'title="'.concat(t.title,'"'):"",' role="menuitemradio">\n                    <div class="op-settings__menu-label" id="').concat(t.id,'" data-value="').concat(e.id,"-").concat(t.id,'">').concat(n," ").concat(t.label,"</div>\n                </div>")}));r.innerHTML='<div class="op-settings__menu" role="menu">'.concat(s.join(""),"</div>"),f(this,c).getContainer().appendChild(r),e.subitems.forEach((function(e){var t=r.querySelector("#".concat(e.id));t&&e.click&&"function"==typeof e.click&&t.addEventListener("click",e.click,w.EVENT_OPTIONS)})),n.addEventListener("click",(function(n){return t._toggleCustomMenu(n,r,e)}),w.EVENT_OPTIONS),f(this,c).getElement().addEventListener("controlshidden",(function(){return t._hideCustomMenu(r)}),w.EVENT_OPTIONS)}else e.click&&"function"==typeof e.click&&n.addEventListener("click",e.click,w.EVENT_OPTIONS);e.mouseenter&&"function"==typeof e.mouseenter&&n.addEventListener("mouseenter",e.mouseenter,w.EVENT_OPTIONS),e.mouseleave&&"function"==typeof e.mouseleave&&n.addEventListener("mouseenter",e.mouseleave,w.EVENT_OPTIONS),e.keydown&&"function"==typeof e.keydown&&n.addEventListener("keydown",e.keydown,w.EVENT_OPTIONS),e.blur&&"function"==typeof e.blur&&n.addEventListener("blur",e.blur,w.EVENT_OPTIONS),e.focus&&"function"==typeof e.focus&&n.addEventListener("focus",e.focus,w.EVENT_OPTIONS),e.layer&&("main"===e.layer?f(this,c).getContainer().appendChild(n):this.getLayer(e.layer).appendChild(n)),e.init&&"function"==typeof e.init&&e.init(f(this,c))}},{key:"_destroyCustomControl",value:function(e){var t=this,n=e.title.toLowerCase().replace(" ","-"),i=this.getContainer().querySelector(".op-controls__".concat(n));if(i){if(e.subitems&&Array.isArray(e.subitems)&&e.subitems.length>0){var r=f(this,c).getContainer().querySelector("#".concat(e.id,"-menu"));r&&(e.subitems.forEach((function(e){var t=r.querySelector("#".concat(e.id));t&&e.click&&"function"==typeof e.click&&t.removeEventListener("click",e.click)})),i.removeEventListener("click",(function(n){return t._toggleCustomMenu(n,r,e)})),f(this,c).getElement().removeEventListener("controlshidden",(function(){return t._hideCustomMenu(r)})),O.removeElement(r))}e.click&&"function"==typeof e.click&&i.removeEventListener("click",e.click),e.mouseenter&&"function"==typeof e.mouseenter&&i.removeEventListener("mouseenter",e.mouseenter),e.mouseleave&&"function"==typeof e.mouseleave&&i.removeEventListener("mouseenter",e.mouseleave),e.keydown&&"function"==typeof e.keydown&&i.removeEventListener("keydown",e.keydown),e.blur&&"function"==typeof e.blur&&i.removeEventListener("blur",e.blur),e.focus&&"function"==typeof e.focus&&i.removeEventListener("focus",e.focus),O.removeElement(i),e.destroy&&"function"==typeof e.destroy&&e.destroy(f(this,c))}}}])&&s(t.prototype,n),r&&s(t,r),e}();a=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,t.default=T},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s,a,o,l,c,u,d,h,f,p,v,m,y,g,E,b=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},_=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};Object.defineProperty(t,"__esModule",{value:!0});var k=n(1),w=n(6),A=n(2),O=n(53),T=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s.set(this,void 0),a.set(this,void 0),o.set(this,void 0),l.set(this,void 0),c.set(this,{button:{},global:{},media:{}}),u.set(this,{}),d.set(this,void 0),h.set(this,{}),f.set(this,void 0),p.set(this,void 0),v.set(this,"off"),m.set(this,void 0),y.set(this,void 0),g.set(this,void 0),E.set(this,void 0),b(this,s,t),b(this,y,t.getOptions().labels),b(this,m,t.getOptions().detachMenus),b(this,g,n),b(this,E,i);for(var r=_(this,s).getElement().textTracks,k=[],w=0,A=r.length;w<A;w++){var O=['track[kind="subtitles"][srclang="'.concat(r[w].language,'"][label="').concat(r[w].label,'"]'),'track[kind="captions"][srclang="'.concat(r[w].language,'"][label="').concat(r[w].label,'"]')];_(this,s).getElement().querySelector(O.join(", "))&&k.push(r[w])}if(!k.length)for(var T=0,S=r.length;T<S;T++)k.push(r[T]);return b(this,d,k),b(this,f,!!_(this,d).length),this}var t,n,T;return t=e,(n=[{key:"create",value:function(){var e=this;if(_(this,f)){b(this,a,document.createElement("button")),_(this,a).className="op-controls__captions op-control__".concat(_(this,g)),_(this,a).tabIndex=0,_(this,a).title=_(this,y).toggleCaptions,_(this,a).setAttribute("aria-controls",_(this,s).id),_(this,a).setAttribute("aria-pressed","false"),_(this,a).setAttribute("aria-label",_(this,y).toggleCaptions),_(this,a).setAttribute("data-active-captions","off"),_(this,a).innerHTML='<span class="op-sr">'.concat(_(this,y).toggleCaptions,"</span>"),_(this,m)&&(_(this,a).classList.add("op-control--no-hover"),b(this,l,document.createElement("div")),_(this,l).className="op-settings op-captions__menu",_(this,l).setAttribute("aria-hidden","true"),_(this,l).innerHTML='<div class="op-settings__menu" role="menu" id="menu-item-captions">\n                <div class="op-settings__submenu-item" tabindex="0" role="menuitemradio" aria-checked="'.concat("off"===_(this,v)?"true":"false",'">\n                    <div class="op-settings__submenu-label op-subtitles__option" data-value="captions-off">').concat(_(this,y).off,"</div>\n                </div>\n            </div>"));for(var t=function(t,n,i){var r=i[t];if("subtitles"===r.kind||"captions"===r.kind){r.default&&(b(e,v,r.srclang),_(e,a).setAttribute("data-active-captions",r.srclang));var s=A.getAbsoluteUrl(r.src),o=_(e,d)[t];o&&o.language===r.srclang&&(o.cues&&o.cues.length>0?(_(e,u)[r.srclang]=e._getNativeCues(_(e,d)[t]),e._prepareTrack(t,r.srclang,s,r.default||!1)):A.request(s,"text",(function(n){if(_(e,u)[r.srclang]=e._getCuesFromText(n),e._prepareTrack(t,r.srclang,s,r.default||!1),_(e,l)&&!_(e,l).querySelector('.op-subtitles__option[data-value="captions-'.concat(_(e,d)[t].language,'"]'))){var i=document.createElement("div");i.className="op-settings__submenu-item",i.tabIndex=0,i.setAttribute("role","menuitemradio"),i.setAttribute("aria-checked",_(e,v)===_(e,d)[t].language?"true":"false"),i.innerHTML='<div class="op-settings__submenu-label op-subtitles__option"\n                                        data-value="captions-'.concat(_(e,d)[t].language,'">\n                                        ').concat(_(e,y).lang[_(e,d)[t].language]||_(e,d)[t].label,"\n                                    </div>"),_(e,l).appendChild(i)}})))}},n=0,i=_(this,s).getElement().querySelectorAll("track"),r=i.length;n<r;n++)t(n,0,i);b(this,o,document.createElement("div")),_(this,o).className="op-captions",_(this,o).innerHTML="<span></span>";var h=_(this,o).querySelector("span");if(_(this,c).media.timeupdate=function(){if(_(e,s).isMedia())if(_(e,p)){var t=_(e,u)[_(e,p).language];if(h&&void 0!==t){var n=e._search(t,_(e,s).getMedia().currentTime);h.innerHTML="",n>-1&&A.hasClass(_(e,a),"op-controls__captions--on")?(_(e,o).classList.add("op-captions--on"),h.innerHTML=e._sanitize(t[n].text)):e._hide()}}else e._hide();else e._hide()},_(this,c).button.click=function(t){var n=t.target;if(_(e,m)){for(var i=_(e,s).getContainer().querySelectorAll(".op-settings"),r=0,a=i.length;r<a;++r)i[r]!==_(e,l)&&i[r].setAttribute("aria-hidden","true");"true"===_(e,l).getAttribute("aria-hidden")?_(e,l).setAttribute("aria-hidden","false"):_(e,l).setAttribute("aria-hidden","true")}else n.setAttribute("aria-pressed","true"),A.hasClass(n,"op-controls__captions--on")?(e._hide(),n.classList.remove("op-controls__captions--on"),n.setAttribute("data-active-captions","off")):(_(e,p)||b(e,p,_(e,d)[0]),e._show(),n.classList.add("op-controls__captions--on"),n.setAttribute("data-active-captions",_(e,p).language))},_(this,c).button.mouseover=function(){if(!k.IS_IOS&&!k.IS_ANDROID&&_(e,m)){for(var t=_(e,s).getContainer().querySelectorAll(".op-settings"),n=0,i=t.length;n<i;++n)t[n]!==_(e,l)&&t[n].setAttribute("aria-hidden","true");"true"===_(e,l).getAttribute("aria-hidden")&&_(e,l).setAttribute("aria-hidden","false")}},_(this,c).button.mouseout=function(){if(!k.IS_IOS&&!k.IS_ANDROID&&_(e,m)){for(var t=_(e,s).getContainer().querySelectorAll(".op-settings"),n=0,i=t.length;n<i;++n)t[n].setAttribute("aria-hidden","true");"false"===_(e,l).getAttribute("aria-hidden")&&_(e,l).setAttribute("aria-hidden","true")}},_(this,f)){var O=_(this,s).getContainer();if(O.insertBefore(_(this,o),O.firstChild),_(this,m)){var T=document.createElement("div");T.className="op-controls__container op-control__".concat(_(this,g)),T.appendChild(_(this,a)),T.appendChild(_(this,l)),_(this,s).getControls().getLayer(_(this,E)).appendChild(T)}else _(this,s).getControls().getLayer(_(this,E)).appendChild(_(this,a));_(this,a).addEventListener("click",_(this,c).button.click,k.EVENT_OPTIONS)}_(this,d).length<=1&&!_(this,m)||!_(this,d).length&&_(this,m)||(_(this,c).global.click=function(t){var n=t.target;if(n.closest("#".concat(_(e,s).id))&&A.hasClass(n,"op-subtitles__option")){var i=n.getAttribute("data-value"),r=i?i.replace("captions-",""):"",o=Array.from(_(e,d)).filter((function(e){return e.language===r}));if(b(e,p,o?o.pop():void 0),_(e,m)){if(A.hasClass(_(e,a),"op-controls__captions--on")?(e._hide(),_(e,a).classList.remove("op-controls__captions--on"),_(e,a).setAttribute("data-active-captions","off")):(e._show(),_(e,a).classList.add("op-controls__captions--on"),_(e,a).setAttribute("data-active-captions",r)),n.parentElement&&n.parentElement.parentElement)for(var c=n.parentElement.parentElement.querySelectorAll(".op-settings__submenu-item"),u=0,h=c.length;u<h;++u)c[u].setAttribute("aria-checked","false");n.parentElement&&n.parentElement.setAttribute("aria-checked","true"),_(e,l).setAttribute("aria-hidden","false")}else e._show(),_(e,a).setAttribute("data-active-captions",r);var f=w.addEvent("captionschanged");_(e,s).getElement().dispatchEvent(f)}},_(this,m)&&(_(this,a).addEventListener("mouseover",_(this,c).button.mouseover,k.EVENT_OPTIONS),_(this,l).addEventListener("mouseover",_(this,c).button.mouseover,k.EVENT_OPTIONS),_(this,l).addEventListener("mouseout",_(this,c).button.mouseout,k.EVENT_OPTIONS),_(this,s).getElement().addEventListener("controlshidden",_(this,c).button.mouseout,k.EVENT_OPTIONS)),void 0!==_(this,c).global.click&&document.addEventListener("click",_(this,c).global.click,k.EVENT_OPTIONS))}}},{key:"destroy",value:function(){void 0!==_(this,c).global.click&&document.removeEventListener("click",_(this,c).global.click),_(this,f)&&(_(this,a).removeEventListener("click",_(this,c).button.click),_(this,m)&&(_(this,a).removeEventListener("mouseover",_(this,c).button.mouseover),_(this,l).removeEventListener("mouseover",_(this,c).button.mouseover),_(this,l).removeEventListener("mouseout",_(this,c).button.mouseout),_(this,s).getElement().removeEventListener("controlshidden",_(this,c).button.mouseout),A.removeElement(_(this,l))),_(this,s).getElement().removeEventListener("timeupdate",_(this,c).media.timeupdate),A.removeElement(_(this,a)),A.removeElement(_(this,o)))}},{key:"addSettings",value:function(){if(_(this,m)||_(this,d).length<=1)return{};var e=this._formatMenuItems();return e.length>2?{className:"op-subtitles__option",default:_(this,v)||"off",key:"captions",name:_(this,y).captions,subitems:e}:{}}},{key:"_getCuesFromText",value:function(e){var t,n=e.split(/\r?\n/),r=[],s=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,a=new RegExp("^((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\x3e ((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*?)$");function o(e){e="string"!=typeof e?JSON.stringify(e):e;try{e=JSON.parse(e)}catch(e){return!1}return"object"===i(e)&&null!==e}for(var l=0,c=n.length;l<c;l++){var u=a.exec(n[l]);if(u&&l<n.length){l-1>=0&&""!==n[l-1]&&(t=n[l-1]);var d=n[++l];for(l++;""!==n[l]&&l<n.length;)d="".concat(d,"\n").concat(n[l]),l++;d=d.trim().replace(s,"<a href='$1' target='_blank'>$1</a>");var h=O.timeToSeconds(u[1]);r.push({endTime:O.timeToSeconds(u[3]),identifier:t||"",settings:o(u[5])?JSON.parse(u[5]):{},startTime:0===h?.2:h,text:d})}t=""}return r}},{key:"_getNativeCues",value:function(e){var t=[],n=e.cues;return Object.keys(n).forEach((function(e){var i=parseInt(e,10),r=n[i];t.push({endTime:r.endTime,identifier:r.id,settings:{},startTime:r.startTime,text:r.text})})),t}},{key:"_show",value:function(){if(_(this,o)&&_(this,p)&&void 0!==_(this,p).cues){var e=_(this,o).querySelector("span");e&&(e.innerHTML=""),_(this,s).getElement().addEventListener("timeupdate",_(this,c).media.timeupdate,k.EVENT_OPTIONS)}}},{key:"_hide",value:function(){_(this,o).classList.remove("op-captions--on"),_(this,p)||(_(this,a).classList.remove("op-controls__captions--on"),_(this,a).setAttribute("data-active-captions","off"))}},{key:"_search",value:function(e,t){for(var n=0,i=e.length-1;n<=i;){var r=n+i>>1,s=e[r].startTime,a=e[r].endTime;if(t>=s&&t<a)return r;s<t?n=r+1:s>t&&(i=r-1)}return-1}},{key:"_sanitize",value:function(e){var t=document.createElement("div");t.innerHTML=e;for(var n=t.getElementsByTagName("script"),i=n.length;i--;)A.removeElement(n[i]);for(var r=t.getElementsByTagName("*"),s=0,a=r.length;s<a;s++)for(var o=r[s].attributes,l=Array.prototype.slice.call(o),c=0,u=l.length;c<u;c++)/^(on|javascript:)/.test(l[c].name)?A.removeElement(r[s]):"style"===l[c].name&&r[s].removeAttribute(l[c].name);return t.innerHTML}},{key:"_prepareTrack",value:function(e,t,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];_(this,h)[t]=n,_(this,d)[e].mode="disabled",r&&(b(this,v,t),_(this,a).classList.add("op-controls__captions--on"),_(this,a).setAttribute("data-active-captions",t),b(this,p,Array.from(_(this,d)).filter((function(e){return e.language===_(i,v)})).pop()),this._show(),_(this,s).getContainer().classList.contains("op-captions--detected")||_(this,s).getContainer().classList.add("op-captions--detected"))}},{key:"_formatMenuItems",value:function(){for(var e=this,t=[{key:"off",label:_(this,y).off}],n=function(n,i){var r=_(e,d)[n];(t=t.filter((function(e){return e.key!==r.language}))).push({key:r.language,label:_(e,y).lang[r.language]||_(e,d)[n].label})},i=0,r=_(this,d).length;i<r;i++)n(i);return t}}])&&r(t.prototype,n),T&&r(t,T),e}();s=new WeakMap,a=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,f=new WeakMap,p=new WeakMap,v=new WeakMap,m=new WeakMap,y=new WeakMap,g=new WeakMap,E=new WeakMap,t.default=T},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,s,a,o,l,c,u,d,h,f,p=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},v=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};Object.defineProperty(t,"__esModule",{value:!0});var m=n(1),y=n(6),g=n(2),E=n(13),b=function(){function e(t,n,i){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.set(this,void 0),s.set(this,void 0),a.set(this,void 0),o.set(this,{button:{},global:{},media:{}}),l.set(this,void 0),c.set(this,void 0),u.set(this,[]),d.set(this,""),h.set(this,void 0),f.set(this,void 0),p(this,r,t),p(this,c,t.getOptions().labels),p(this,l,t.getOptions().detachMenus),p(this,h,n),p(this,f,i),this}var t,n,b;return t=e,(n=[{key:"create",value:function(){var e=this,t=null!==v(this,r).getOptions().defaultLevel?parseInt(v(this,r).getOptions().defaultLevel,10):v(this,r).getMedia().level;p(this,d,"".concat(t));var n=this._formatMenuItems(),i=n.length?n.find((function(t){return t.key===v(e,d)})):null,f=i?i.label:v(this,c).auto,b=!1;p(this,s,document.createElement("button")),v(this,s).className="op-controls__levels op-control__".concat(v(this,h)),v(this,s).tabIndex=0,v(this,s).title=v(this,c).mediaLevels,v(this,s).setAttribute("aria-controls",v(this,r).id),v(this,s).setAttribute("aria-label",v(this,c).mediaLevels),v(this,s).setAttribute("data-active-level",v(this,d)),v(this,s).innerHTML="<span>".concat(f,"</span>");var _=function(){v(e,u).length?b||(v(e,r).getMedia().level=t,b=!0):(e._gatherLevels(),setTimeout((function(){v(e,r).getMedia().level=t;var n=y.addEvent("controlschanged");v(e,r).getElement().dispatchEvent(n)}),0))};v(this,o).media.loadedmetadata=_.bind(this),v(this,o).media.manifestLoaded=_.bind(this),v(this,o).media.hlsManifestParsed=_.bind(this),v(this,l)&&(this._buildMenu(),v(this,o).button.click=function(){if(v(e,l)){for(var t=v(e,r).getContainer().querySelectorAll(".op-settings"),n=0,i=t.length;n<i;++n)t[n]!==v(e,a)&&t[n].setAttribute("aria-hidden","true");"true"===v(e,a).getAttribute("aria-hidden")?v(e,a).setAttribute("aria-hidden","false"):v(e,a).setAttribute("aria-hidden","true")}},v(this,o).button.mouseover=function(){if(!m.IS_IOS&&!m.IS_ANDROID){for(var t=v(e,r).getContainer().querySelectorAll(".op-settings"),n=0,i=t.length;n<i;++n)t[n]!==v(e,a)&&t[n].setAttribute("aria-hidden","true");"true"===v(e,a).getAttribute("aria-hidden")&&v(e,a).setAttribute("aria-hidden","false")}},v(this,o).button.mouseout=function(){if(!m.IS_IOS&&!m.IS_ANDROID){for(var t=v(e,r).getContainer().querySelectorAll(".op-settings"),n=0,i=t.length;n<i;++n)t[n].setAttribute("aria-hidden","true");"false"===v(e,a).getAttribute("aria-hidden")&&v(e,a).setAttribute("aria-hidden","true")}},v(this,s).addEventListener("click",v(this,o).button.click,m.EVENT_OPTIONS),v(this,s).addEventListener("mouseover",v(this,o).button.mouseover,m.EVENT_OPTIONS),v(this,a).addEventListener("mouseover",v(this,o).button.mouseover,m.EVENT_OPTIONS),v(this,a).addEventListener("mouseout",v(this,o).button.mouseout,m.EVENT_OPTIONS),v(this,r).getElement().addEventListener("controlshidden",v(this,o).button.mouseout,m.EVENT_OPTIONS)),v(this,o).global.click=function(t){var n=t.target,i=v(e,r).getMedia().currentTime,o=v(e,r).getMedia().paused;if(n.closest("#".concat(v(e,r).id))&&g.hasClass(n,"op-levels__option")){var c=n.getAttribute("data-value"),u=parseInt(c?c.replace("levels-",""):"-1",10);if(p(e,d,"".concat(u)),v(e,l)){v(e,s).setAttribute("data-active-level","".concat(u)),v(e,s).innerHTML="<span>".concat(n.innerText,"</span>");for(var h=n.parentElement&&n.parentElement.parentElement?n.parentElement.parentElement.querySelectorAll(".op-settings__submenu-item"):[],f=0,m=h.length;f<m;++f)h[f].setAttribute("aria-checked","false");n.parentElement&&n.parentElement.setAttribute("aria-checked","true"),v(e,a).setAttribute("aria-hidden","false")}v(e,r).getMedia().level=u,v(e,r).getMedia().currentTime=i,o||v(e,r).play();var E=y.addEvent("levelchanged",{detail:{label:n.innerText.trim(),level:u}});v(e,r).getElement().dispatchEvent(E),t.preventDefault(),t.stopPropagation()}};var k=m.NAV.connection||m.NAV.mozConnection||m.NAV.webkitConnection;v(this,o).global.connection=function(){var t=v(e,r).getMedia().current;if(!E.isDashSource(t)&&!E.isHlsSource(t)){var n=k.effectiveType,i=v(e,u).map((function(e){return Object.assign(Object.assign({},e),{resolution:parseInt(e.label.replace("p",""),10)})})),s=i.find((function(e){return e.resolution<360}));"4g"===n?s=i.find((function(e){return e.resolution>=720})):"3g"===n&&(s=i.find((function(e){return e.resolution>=360&&e.resolution<720}))),s&&(v(e,r).pause(),v(e,r).getMedia().level=s.id,v(e,r).play()),n=k.effectiveType}},Object.keys(v(this,o).media).forEach((function(t){v(e,r).getElement().addEventListener(t,v(e,o).media[t],m.EVENT_OPTIONS)})),document.addEventListener("click",v(this,o).global.click,m.EVENT_OPTIONS),k&&k.addEventListener("change",v(this,o).global.connection,m.EVENT_OPTIONS)}},{key:"destroy",value:function(){var e=this,t=m.NAV.connection||m.NAV.mozConnection||m.NAV.webkitConnection;Object.keys(v(this,o).media).forEach((function(t){v(e,r).getElement().removeEventListener(t,v(e,o).media[t])})),document.removeEventListener("click",v(this,o).global.click),t&&t.removeEventListener("change",v(this,o).global.connection),v(this,l)&&(v(this,s).removeEventListener("click",v(this,o).button.click),g.removeElement(v(this,s)),v(this,s).removeEventListener("mouseover",v(this,o).button.mouseover),v(this,a).removeEventListener("mouseover",v(this,o).button.mouseover),v(this,a).removeEventListener("mouseout",v(this,o).button.mouseout),v(this,r).getElement().removeEventListener("controlshidden",v(this,o).button.mouseout),g.removeElement(v(this,a)))}},{key:"addSettings",value:function(){if(v(this,l))return{};var e=this._formatMenuItems();return e.length>2?{className:"op-levels__option",default:v(this,d)||"-1",key:"levels",name:v(this,c).levels,subitems:e}:{}}},{key:"_formatMenuItems",value:function(){for(var e=this._gatherLevels(),t=e.length,n=t?[{key:"-1",label:v(this,c).auto}]:[],i=function(t){var i=e[t];(n=n.filter((function(e){return e.key!==i.id}))).push({key:i.id,label:i.label})},r=0;r<t;r++)i(r);return n=n.reduce((function(e,t){return e.find((function(e){return e.label===t.label}))?e:e.concat([t])}),[]).sort((function(e,t){return parseInt(e.label,10)>parseInt(t.label,10)?1:-1}))}},{key:"_getResolutionsLabel",value:function(e){return e>=4320?"8K":e>=2160?"4K":e>=1440?"1440p":e>=1080?"1080p":e>=720?"720p":e>=480?"480p":e>=360?"360p":e>=240?"240p":e>=144?"144p":v(this,c).auto}},{key:"_gatherLevels",value:function(){var e=this;return v(this,u).length||v(this,r).getMedia().levels.forEach((function(t){v(e,u).push(Object.assign(Object.assign({},t),{label:t.label||e._getResolutionsLabel(t.height)}))})),v(this,u)}},{key:"_buildMenu",value:function(){var e=this;if(v(this,l)){v(this,s).classList.add("op-control--no-hover"),p(this,a,document.createElement("div")),v(this,a).className="op-settings op-levels__menu",v(this,a).setAttribute("aria-hidden","true");var t=this._formatMenuItems(),n='<div class="op-settings__menu" role="menu" id="menu-item-levels">\n                '.concat(t.map((function(t){return'\n                <div class="op-settings__submenu-item" tabindex="0" role="menuitemradio"\n                    aria-checked="'.concat(v(e,d)===t.key?"true":"false",'">\n                    <div class="op-settings__submenu-label ').concat("op-levels__option",'" data-value="levels-').concat(t.key,'">').concat(t.label,"</div>\n                </div>")})).join(""),"\n            </div>");v(this,a).innerHTML=n;var i=document.createElement("div");i.className="op-controls__container op-control__".concat(v(this,h)),i.appendChild(v(this,s)),i.appendChild(v(this,a)),v(this,r).getControls().getLayer(v(this,f)).appendChild(i)}}}])&&i(t.prototype,n),b&&i(t,b),e}();r=new WeakMap,s=new WeakMap,a=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,f=new WeakMap,t.default=b},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,s,a,o,l,c,u=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},d=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},h=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var f=h(n(54)),p=n(1),v=n(6),m=n(2),y=function(){function e(t,n,i){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.set(this,void 0),s.set(this,void 0),a.set(this,{controls:{},media:{}}),o.set(this,void 0),l.set(this,void 0),c.set(this,void 0),u(this,r,t),u(this,o,d(this,r).getOptions().labels),u(this,l,n),u(this,c,i),this._keydownEvent=this._keydownEvent.bind(this),this}var t,n,h;return t=e,(n=[{key:"create",value:function(){var e=this;u(this,s,document.createElement("button")),d(this,s).type="button",d(this,s).className="op-controls__playpause op-control__".concat(d(this,l)),d(this,s).tabIndex=0,d(this,s).title=d(this,o).play,d(this,s).setAttribute("aria-controls",d(this,r).id),d(this,s).setAttribute("aria-pressed","false"),d(this,s).setAttribute("aria-label",d(this,o).play),d(this,s).innerHTML='<span class="op-sr">'.concat(d(this,o).play,"/").concat(d(this,o).pause,"</span>"),d(this,r).getControls().getLayer(d(this,c)).appendChild(d(this,s)),d(this,a).media.click=function(t){d(e,s).setAttribute("aria-pressed","true");var n=d(e,r).activeElement();n.paused||n.ended?(d(e,r).getAd()&&(d(e,r).getAd().playRequested=!0),n.play()):n.pause(),t.preventDefault(),t.stopPropagation()};var t=m.isAudio(d(this,r).getElement());d(this,a).media.play=function(){d(e,r).activeElement().ended?(d(e,r).isMedia()?d(e,s).classList.add("op-controls__playpause--replay"):d(e,s).classList.add("op-controls__playpause--pause"),d(e,s).title=d(e,o).play,d(e,s).setAttribute("aria-label",d(e,o).play)):(d(e,s).classList.remove("op-controls__playpause--replay"),d(e,s).classList.add("op-controls__playpause--pause"),d(e,s).title=d(e,o).pause,d(e,s).setAttribute("aria-label",d(e,o).pause),d(e,r).getOptions().pauseOthers&&Object.keys(f.default.instances).forEach((function(t){t!==d(e,r).id&&f.default.instances[t].activeElement().pause()})))},d(this,a).media.loadedmetadata=function(){m.hasClass(d(e,s),"op-controls__playpause--pause")&&(d(e,s).classList.remove("op-controls__playpause--replay"),d(e,s).classList.remove("op-controls__playpause--pause"),d(e,s).title=d(e,o).play,d(e,s).setAttribute("aria-label",d(e,o).play))},d(this,a).media.playing=function(){m.hasClass(d(e,s),"op-controls__playpause--pause")||(d(e,s).classList.remove("op-controls__playpause--replay"),d(e,s).classList.add("op-controls__playpause--pause"),d(e,s).title=d(e,o).pause,d(e,s).setAttribute("aria-label",d(e,o).pause))},d(this,a).media.pause=function(){d(e,s).classList.remove("op-controls__playpause--pause"),d(e,s).title=d(e,o).play,d(e,s).setAttribute("aria-label",d(e,o).play)},d(this,a).media.ended=function(){d(e,r).activeElement().ended&&d(e,r).isMedia()||d(e,r).getElement().currentTime>=d(e,r).getElement().duration||d(e,r).getElement().currentTime<=0?(d(e,s).classList.add("op-controls__playpause--replay"),d(e,s).classList.remove("op-controls__playpause--pause")):(d(e,s).classList.remove("op-controls__playpause--replay"),d(e,s).classList.add("op-controls__playpause--pause")),d(e,s).title=d(e,o).play,d(e,s).setAttribute("aria-label",d(e,o).play)},d(this,a).media.adsmediaended=function(){d(e,s).classList.remove("op-controls__playpause--replay"),d(e,s).classList.add("op-controls__playpause--pause"),d(e,s).title=d(e,o).pause,d(e,s).setAttribute("aria-label",d(e,o).pause)},d(this,a).media.playererror=function(){t&&d(e,r).activeElement().pause()};var n=d(this,r).getElement();d(this,a).controls.controlschanged=function(){if(!d(e,r).activeElement().paused){var t=v.addEvent("playing");n.dispatchEvent(t)}},Object.keys(d(this,a).media).forEach((function(t){n.addEventListener(t,d(e,a).media[t],p.EVENT_OPTIONS)})),d(this,r).getControls().getContainer().addEventListener("controlschanged",d(this,a).controls.controlschanged,p.EVENT_OPTIONS),d(this,r).getContainer().addEventListener("keydown",this._keydownEvent,p.EVENT_OPTIONS),d(this,s).addEventListener("click",d(this,a).media.click,p.EVENT_OPTIONS)}},{key:"destroy",value:function(){var e=this;Object.keys(d(this,a).media).forEach((function(t){d(e,r).getElement().removeEventListener(t,d(e,a).media[t])})),d(this,r).getControls().getContainer().removeEventListener("controlschanged",d(this,a).controls.controlschanged),d(this,r).getContainer().removeEventListener("keydown",this._keydownEvent),d(this,s).removeEventListener("click",d(this,a).media.click),m.removeElement(d(this,s))}},{key:"_keydownEvent",value:function(e){var t,n=e.which||e.keyCode||0;!(null===(t=null===document||void 0===document?void 0:document.activeElement)||void 0===t?void 0:t.classList.contains("op-controls__playpause"))||13!==n&&32!==n||d(this,a).media.click(e)}}])&&i(t.prototype,n),h&&i(t,h),e}();r=new WeakMap,s=new WeakMap,a=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,t.default=y},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,s,a,o,l,c,u,d,h,f,p,v=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},m=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};Object.defineProperty(t,"__esModule",{value:!0});var y=n(1),g=n(2),E=n(53),b=function(){function e(t,n,i){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.set(this,void 0),s.set(this,void 0),a.set(this,void 0),o.set(this,void 0),l.set(this,void 0),c.set(this,void 0),u.set(this,{container:{},controls:{},global:{},media:{},slider:{}}),d.set(this,void 0),h.set(this,void 0),f.set(this,void 0),p.set(this,void 0),v(this,r,t),v(this,h,t.getOptions().labels),v(this,d,!1),v(this,f,n),v(this,p,i),this._keydownEvent=this._keydownEvent.bind(this),this}var t,n,b;return t=e,(n=[{key:"create",value:function(){var e=this;v(this,s,document.createElement("div")),m(this,s).className="op-controls__progress op-control__".concat(m(this,f)),m(this,s).tabIndex=0,m(this,s).setAttribute("aria-label",m(this,h).progressSlider),m(this,s).setAttribute("aria-valuemin","0"),v(this,a,document.createElement("input")),m(this,a).type="range",m(this,a).className="op-controls__progress--seek",m(this,a).tabIndex=-1,m(this,a).setAttribute("min","0"),m(this,a).setAttribute("max","0"),m(this,a).setAttribute("step","0.1"),m(this,a).value="0",m(this,a).setAttribute("aria-label",m(this,h).progressRail),m(this,a).setAttribute("role","slider"),v(this,o,document.createElement("progress")),m(this,o).className="op-controls__progress--buffer",m(this,o).setAttribute("max","100"),m(this,o).value=0,v(this,l,document.createElement("progress")),m(this,l).className="op-controls__progress--played",m(this,l).setAttribute("max","100"),m(this,l).setAttribute("role","presentation"),m(this,l).value=0,m(this,s).appendChild(m(this,a)),m(this,s).appendChild(m(this,l)),m(this,s).appendChild(m(this,o)),y.IS_IOS||y.IS_ANDROID||(v(this,c,document.createElement("span")),m(this,c).className="op-controls__tooltip",m(this,c).tabIndex=-1,m(this,c).innerHTML="00:00",m(this,s).appendChild(m(this,c)));var t=function(){m(e,a).classList.contains("error")&&m(e,a).classList.remove("error");var t=m(e,r).activeElement();if(t.duration===1/0||m(e,r).getElement().getAttribute("op-live__enabled")||m(e,r).getElement().getAttribute("op-dvr__enabled"))m(e,r).getElement().getAttribute("op-dvr__enabled")?(m(e,a).setAttribute("max","1"),m(e,a).value="1",m(e,a).style.backgroundSize="100% 100%",m(e,l).value=1,m(e,s).setAttribute("aria-valuemax","1"),m(e,s).setAttribute("aria-hidden","false")):m(e,r).getOptions().live.showProgress||m(e,s).setAttribute("aria-hidden","true");else{m(e,a).setAttribute("max","".concat(t.duration));var n=m(e,r).isMedia()?t.currentTime:t.duration-t.currentTime;m(e,a).value=n.toString(),m(e,s).setAttribute("aria-valuemax",t.duration.toString())}},n=0,i=m(this,r).getOptions().progress.duration||0,b=g.isAudio(m(this,r).getElement());m(this,u).media.loadedmetadata=t.bind(this),m(this,u).controls.controlschanged=t.bind(this),m(this,u).media.progress=function(t){var n=t.target;if(n.duration===1/0||m(e,r).getElement().getAttribute("op-live__enabled"))m(e,r).getElement().getAttribute("op-dvr__enabled")||"false"!==m(e,s).getAttribute("aria-hidden")||m(e,r).getOptions().live.showProgress||m(e,s).setAttribute("aria-hidden","true");else if(n.duration>0)for(var i=0,a=n.buffered.length;i<a;i++)if(n.buffered.start(n.buffered.length-1-i)<n.currentTime){m(e,o).value=n.buffered.end(n.buffered.length-1-i)/n.duration*100;break}},m(this,u).media.waiting=function(){b&&!m(e,a).classList.contains("loading")&&m(e,a).classList.add("loading"),b&&m(e,a).classList.contains("error")&&m(e,a).classList.remove("error")},m(this,u).media.playererror=function(){b&&!m(e,a).classList.contains("error")&&m(e,a).classList.add("error"),b&&m(e,a).classList.contains("loading")&&m(e,a).classList.remove("loading")},m(this,u).media.pause=function(){var t=m(e,r).activeElement();if(t.duration!==1/0&&!m(e,r).getElement().getAttribute("op-live__enabled")){var n=t.currentTime;m(e,s).setAttribute("aria-valuenow",n.toString()),m(e,s).setAttribute("aria-valuetext",E.formatTime(n))}},m(this,u).media.play=function(){b&&m(e,a).classList.contains("loading")&&m(e,a).classList.remove("loading"),b&&m(e,a).classList.contains("error")&&m(e,a).classList.remove("error"),m(e,r).activeElement().duration===1/0||m(e,r).getElement().getAttribute("op-live__enabled")||(m(e,s).removeAttribute("aria-valuenow"),m(e,s).removeAttribute("aria-valuetext"))},m(this,u).media.playing=function(){b&&m(e,a).classList.contains("loading")&&m(e,a).classList.remove("loading"),b&&m(e,a).classList.contains("error")&&m(e,a).classList.remove("error")},m(this,u).media.timeupdate=function(){var t=m(e,r).activeElement();if(t.duration===1/0||m(e,r).getElement().getAttribute("op-live__enabled")&&!m(e,r).getElement().getAttribute("op-dvr__enabled"))m(e,r).getElement().getAttribute("op-dvr__enabled")||"false"!==m(e,s).getAttribute("aria-hidden")||m(e,r).getOptions().live.showProgress||m(e,s).setAttribute("aria-hidden","true");else{m(e,a).getAttribute("max")&&"0"!==m(e,a).getAttribute("max")&&parseFloat(m(e,a).getAttribute("max")||"-1")===t.duration||(m(e,a).setAttribute("max","".concat(t.duration)),m(e,s).setAttribute("aria-hidden","false"));var o=m(e,r).isMedia()?t.currentTime:t.duration-t.currentTime+1>=100?100:t.duration-t.currentTime+1,c=parseFloat(m(e,a).min),u=parseFloat(m(e,a).max);m(e,a).value=o.toString(),m(e,a).style.backgroundSize="".concat(100*(o-c)/(u-c),"% 100%"),m(e,l).value=t.duration<=0||isNaN(t.duration)||!isFinite(t.duration)?i:o/t.duration*100,m(e,r).getElement().getAttribute("op-dvr__enabled")&&Math.floor(m(e,l).value)>=99&&(n=t.currentTime,m(e,s).setAttribute("aria-hidden","false"))}},m(this,u).media.durationchange=function(){var t=m(e,r).activeElement(),n=m(e,r).isMedia()?t.currentTime:t.duration-t.currentTime;m(e,a).setAttribute("max","".concat(t.duration)),m(e,s).setAttribute("aria-valuemax",t.duration.toString()),m(e,l).value=t.duration<=0||isNaN(t.duration)||!isFinite(t.duration)?i:n/t.duration*100},m(this,u).media.ended=function(){m(e,a).style.backgroundSize="0% 100%",m(e,a).setAttribute("max","0"),m(e,o).value=0,m(e,l).value=0};var _=function(t){if(!g.hasClass(m(e,a),"op-progress--pressed")){var s=t.target;m(e,a).classList.add(".op-progress--pressed");var o=m(e,r).activeElement(),c=parseFloat(s.min),u=parseFloat(s.max),d=parseFloat(s.value);m(e,a).style.backgroundSize="".concat(100*(d-c)/(u-c),"% 100%"),m(e,l).value=o.duration<=0||isNaN(o.duration)||!isFinite(o.duration)?i:d/o.duration*100,m(e,r).getElement().getAttribute("op-dvr__enabled")?o.currentTime=Math.round(m(e,l).value)>=99?n:d:o.currentTime=d,m(e,a).classList.remove(".op-progress--pressed")}},k=function(t){var n=m(e,r).activeElement();1!==t.which&&0!==t.which||!m(e,r).isMedia()||n.paused||n.play().then((function(){n.pause(),v(e,d,!0)}))},w=function(){var t=m(e,r).activeElement();!0===m(e,d)&&m(e,r).isMedia()&&t.paused&&(t.play(),v(e,d,!1))};m(this,u).slider.input=_.bind(this),m(this,u).slider.change=_.bind(this),m(this,u).slider.mousedown=k.bind(this),m(this,u).slider.mouseup=w.bind(this),m(this,u).slider.touchstart=function(t){var n=m(e,r).activeElement();if(n.duration===1/0)return!0;var i=t.originalEvent?t.originalEvent.changedTouches:t.changedTouches,o=((i?i[0].pageX:t.pageX)-g.offset(m(e,s)).left)/m(e,s).offsetWidth*n.duration;m(e,a).value=o.toString(),_(t),k(t)}.bind(this),m(this,u).slider.touchend=w.bind(this),y.IS_IOS||y.IS_ANDROID||(m(this,u).container.mousemove=function(t){var n=m(e,r).activeElement();if(n.duration===1/0||m(e,r).isAd())return!0;var i=t.originalEvent&&t.originalEvent.changedTouches?t.originalEvent.changedTouches[0].pageX:t.pageX,o=i-g.offset(m(e,s)).left,l=m(e,c).offsetWidth/2,u=o/m(e,s).offsetWidth,d=u*n.duration,h=m(e,r).getContainer(),f=h.offsetWidth-m(e,c).offsetWidth;o<=0||i-g.offset(h).left<=l?o=0:i-g.offset(h).left>=f?o=f-g.offset(m(e,a)).left-10:o-=l,u>=0&&u<=1?m(e,c).classList.add("op-controls__tooltip--visible"):m(e,c).classList.remove("op-controls__tooltip--visible"),m(e,c).style.left="".concat(o,"px"),m(e,c).innerHTML=isNaN(d)?"00:00":E.formatTime(d)},m(this,u).global.mousemove=function(t){t.target.closest(".op-controls__progress")&&!m(e,r).isAd()||m(e,c).classList.remove("op-controls__tooltip--visible")}),Object.keys(m(this,u).media).forEach((function(t){m(e,r).getElement().addEventListener(t,m(e,u).media[t],y.EVENT_OPTIONS)})),Object.keys(m(this,u).slider).forEach((function(t){m(e,a).addEventListener(t,m(e,u).slider[t],y.EVENT_OPTIONS)})),m(this,s).addEventListener("keydown",m(this,r).getEvents().keydown,y.EVENT_OPTIONS),m(this,s).addEventListener("mousemove",m(this,u).container.mousemove,y.EVENT_OPTIONS),document.addEventListener("mousemove",m(this,u).global.mousemove,y.EVENT_OPTIONS),m(this,r).getContainer().addEventListener("keydown",this._keydownEvent,y.EVENT_OPTIONS),m(this,r).getControls().getContainer().addEventListener("controlschanged",m(this,u).controls.controlschanged,y.EVENT_OPTIONS),m(this,r).getControls().getLayer(m(this,p)).appendChild(m(this,s))}},{key:"destroy",value:function(){var e=this;Object.keys(m(this,u)).forEach((function(t){m(e,r).getElement().removeEventListener(t,m(e,u)[t])})),Object.keys(m(this,u).slider).forEach((function(t){m(e,a).removeEventListener(t,m(e,u).slider[t])})),m(this,s).removeEventListener("keydown",m(this,r).getEvents().keydown),m(this,s).removeEventListener("mousemove",m(this,u).container.mousemove),document.removeEventListener("mousemove",m(this,u).global.mousemove),m(this,r).getContainer().removeEventListener("keydown",this._keydownEvent),m(this,r).getControls().getContainer().removeEventListener("controlschanged",m(this,u).controls.controlschanged),g.removeElement(m(this,o)),g.removeElement(m(this,l)),g.removeElement(m(this,a)),y.IS_IOS||y.IS_ANDROID||g.removeElement(m(this,c)),g.removeElement(m(this,s))}},{key:"_keydownEvent",value:function(e){var t=m(this,r).activeElement(),n=m(this,r).isAd(),i=e.which||e.keyCode||0;if(!n&&i>=48&&i<=57&&t.duration!==1/0){for(var s=0,a=48;a<=57;a++)a<i&&s++;t.currentTime=t.duration*(.1*s),e.preventDefault(),e.stopPropagation()}}}])&&i(t.prototype,n),b&&i(t,b),e}();r=new WeakMap,s=new WeakMap,a=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,f=new WeakMap,p=new WeakMap,t.default=b},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s,a,o,l,c,u,d,h,f,p=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},v=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};Object.defineProperty(t,"__esModule",{value:!0});var m=n(1),y=n(2),g=function(){function e(t,n,i){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s.set(this,void 0),a.set(this,{}),o.set(this,void 0),l.set(this,void 0),c.set(this,{global:{},media:{}}),u.set(this,""),d.set(this,void 0),h.set(this,void 0),f.set(this,void 0),p(this,s,t),p(this,d,t.getOptions().labels),p(this,h,n),p(this,f,i),this._keydownEvent=this._keydownEvent.bind(this),this}var t,n,g;return t=e,(n=[{key:"create",value:function(){var e=this;p(this,o,document.createElement("button")),v(this,o).className="op-controls__settings op-control__".concat(v(this,h)),v(this,o).tabIndex=0,v(this,o).title=v(this,d).settings,v(this,o).setAttribute("aria-controls",v(this,s).id),v(this,o).setAttribute("aria-pressed","false"),v(this,o).setAttribute("aria-label",v(this,d).settings),v(this,o).innerHTML='<span class="op-sr">'.concat(v(this,d).settings,"</span>"),p(this,l,document.createElement("div")),v(this,l).className="op-settings",v(this,l).setAttribute("aria-hidden","true"),v(this,l).innerHTML='<div class="op-settings__menu" role="menu"></div>',this.clickEvent=function(){v(e,o).setAttribute("aria-pressed","true");for(var t=v(e,s).getContainer().querySelectorAll(".op-settings"),n=0,i=t.length;n<i;++n)t[n]!==v(e,l)&&t[n].setAttribute("aria-hidden","true");v(e,l).setAttribute("aria-hidden","false"===v(e,l).getAttribute("aria-hidden")?"true":"false")},this.hideEvent=function(){var t;t&&"undefined"!=typeof window&&window.cancelAnimationFrame(t),"undefined"!=typeof window&&(t=window.requestAnimationFrame((function(){v(e,l).innerHTML=v(e,u),v(e,l).setAttribute("aria-hidden","true")})))},this.removeEvent=function(t){var n=t.detail,i=n.id,r=n.type;e.removeItem(i,r)},v(this,c).media.controlshidden=this.hideEvent.bind(this),v(this,c).media.settingremoved=this.removeEvent.bind(this),v(this,c).media.play=this.hideEvent.bind(this),v(this,c).media.pause=this.hideEvent.bind(this),v(this,s).getContainer().addEventListener("keydown",this._keydownEvent,m.EVENT_OPTIONS),this.clickEvent=this.clickEvent.bind(this),this.hideEvent=this.hideEvent.bind(this),v(this,c).global.click=function(t){t.target.closest("#".concat(v(e,s).id))&&y.hasClass(t.target,"op-speed__option")&&(v(e,s).getMedia().playbackRate=parseFloat(t.target.getAttribute("data-value").replace("speed-","")))},v(this,c).global.resize=this.hideEvent.bind(this),v(this,o).addEventListener("click",this.clickEvent,m.EVENT_OPTIONS),Object.keys(v(this,c)).forEach((function(t){v(e,s).getElement().addEventListener(t,v(e,c).media[t],m.EVENT_OPTIONS)})),document.addEventListener("click",v(this,c).global.click,m.EVENT_OPTIONS),document.addEventListener("keydown",v(this,c).global.click,m.EVENT_OPTIONS),"undefined"!=typeof window&&window.addEventListener("resize",v(this,c).global.resize,m.EVENT_OPTIONS),v(this,s).getControls().getLayer(v(this,f)).appendChild(v(this,o)),v(this,s).getContainer().appendChild(v(this,l))}},{key:"destroy",value:function(){var e=this;v(this,o).removeEventListener("click",this.clickEvent),Object.keys(v(this,c)).forEach((function(t){v(e,s).getElement().removeEventListener(t,v(e,c).media[t])})),document.removeEventListener("click",v(this,c).global.click),document.removeEventListener("keydown",v(this,c).global.click),"undefined"!=typeof window&&window.removeEventListener("resize",v(this,c).global.resize),void 0!==v(this,c).global["settings.submenu"]&&(document.removeEventListener("click",v(this,c).global["settings.submenu"]),v(this,s).getElement().removeEventListener("controlshidden",this.hideEvent)),v(this,s).getContainer().removeEventListener("keydown",this._keydownEvent),y.removeElement(v(this,l)),y.removeElement(v(this,o))}},{key:"addSettings",value:function(){var e=v(this,s).getMedia(),t=1;return v(this,s)&&e&&(t=e.defaultPlaybackRate!==e.playbackRate?e.playbackRate:e.defaultPlaybackRate),{className:"op-speed__option",default:t.toString(),key:"speed",name:v(this,d).speed,subitems:[{key:"0.25",label:"0.25"},{key:"0.5",label:"0.5"},{key:"0.75",label:"0.75"},{key:"1",label:v(this,d).speedNormal},{key:"1.25",label:"1.25"},{key:"1.5",label:"1.5"},{key:"2",label:"2"}]}}},{key:"addItem",value:function(e,t,n,r,o){var d=this,h=document.createElement("div");h.className="op-settings__menu-item",h.tabIndex=0,h.setAttribute("role","menuitemradio"),h.innerHTML='<div class="op-settings__menu-label" data-value="'.concat(t,"-").concat(n,'">').concat(e,"</div>");var f=r?r.find((function(e){return e.key===n})):null;f&&(h.innerHTML+='<div class="op-settings__menu-content" tabindex="0">'.concat(f.label,"</div>"));var g=v(this,l).querySelector(".op-settings__menu");if(g&&g.appendChild(h),p(this,u,v(this,l).innerHTML),r){var E='\n                <div class="op-settings__header">\n                    <button type="button" class="op-settings__back" tabindex="0">'.concat(e,'</button>\n                </div>\n                <div class="op-settings__menu" role="menu" id="menu-item-').concat(t,'">\n                    ').concat(r.map((function(e){return'\n                    <div class="op-settings__submenu-item" role="menuitemradio"\n                        aria-checked="'.concat(n===e.key?"true":"false",'">\n                        <div class="op-settings__submenu-label ').concat(o||"",'" tabindex="0" data-value="').concat(t,"-").concat(e.key,'">').concat(e.label,"</div>\n                    </div>")})).join(""),"\n                </div>");v(this,a)[t]=E}v(this,c).global["settings.submenu"]=function(e){var r=e.target;if(r.closest("#".concat(v(d,s).id))){if(y.hasClass(r,"op-settings__back"))v(d,l).classList.add("op-settings--sliding"),setTimeout((function(){v(d,l).innerHTML=v(d,u),v(d,l).classList.remove("op-settings--sliding")}),100);else if(y.hasClass(r,"op-settings__menu-content")){var o=r.parentElement?r.parentElement.querySelector(".op-settings__menu-label"):null,c=o?o.getAttribute("data-value"):null,h=c?c.split("-"):[];if(h.length>0){h.pop();var f=h.join("-").replace(/^\-|\-$/,"");void 0!==i(v(d,a)[f])&&(v(d,l).classList.add("op-settings--sliding"),setTimeout((function(){v(d,l).innerHTML=v(d,a)[f],v(d,l).classList.remove("op-settings--sliding")}),100))}}else if(y.hasClass(r,"op-settings__submenu-label")){var m=r.getAttribute("data-value"),g=m?m.replace("".concat(t,"-"),""):"",E=r.innerText,b=v(d,l).querySelector("#menu-item-".concat(t," .op-settings__submenu-item[aria-checked=true]"));b&&(b.setAttribute("aria-checked","false"),r.parentElement&&r.parentElement.setAttribute("aria-checked","true"),v(d,a)[t]=v(d,l).innerHTML,v(d,l).classList.add("op-settings--sliding"),setTimeout((function(){v(d,l).innerHTML=v(d,u);var e=v(d,l).querySelector('.op-settings__menu-label[data-value="'.concat(t,"-").concat(n,'"]'));e&&(e.setAttribute("data-value","".concat(m)),e.nextElementSibling&&(e.nextElementSibling.innerHTML=E)),n=g,p(d,u,v(d,l).innerHTML),v(d,l).classList.remove("op-settings--sliding")}),100))}}else d.hideEvent()},document.addEventListener("click",v(this,c).global["settings.submenu"],m.EVENT_OPTIONS),v(this,s).getElement().addEventListener("controlshidden",this.hideEvent,m.EVENT_OPTIONS)}},{key:"removeItem",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,i=v(this,s).getElement().querySelector(".op-settings__submenu-label[data-value=".concat(t,"-").concat(e,"]"));if(i&&y.removeElement(i),v(this,s).getElement().querySelectorAll(".op-settings__submenu-label[data-value^=".concat(t,"]")).length<n){delete v(this,a)[t];var r=v(this,s).getElement().querySelector(".op-settings__menu-label[data-value^=".concat(t,"]")),o=r?r.closest(".op-settings__menu-item"):null;o&&y.removeElement(o)}}},{key:"_keydownEvent",value:function(e){var t,n,i,r,a=e.which||e.keyCode||0,o=v(this,s).isAd(),l=null===(t=null===document||void 0===document?void 0:document.activeElement)||void 0===t?void 0:t.classList.contains("op-controls__settings"),u=(null===(n=null===document||void 0===document?void 0:document.activeElement)||void 0===n?void 0:n.classList.contains("op-settings__menu-content"))||(null===(i=null===document||void 0===document?void 0:document.activeElement)||void 0===i?void 0:i.classList.contains("op-settings__back"))||(null===(r=null===document||void 0===document?void 0:document.activeElement)||void 0===r?void 0:r.classList.contains("op-settings__submenu-label"));o||(!l||13!==a&&32!==a?!u||13!==a&&32!==a||(v(this,c).global["settings.submenu"](e),e.preventDefault(),e.stopPropagation()):(this.clickEvent(),e.preventDefault(),e.stopPropagation()))}}])&&r(t.prototype,n),g&&r(t,g),e}();s=new WeakMap,a=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,f=new WeakMap,t.default=g},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,s,a,o,l,c,u,d,h,f=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},p=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};Object.defineProperty(t,"__esModule",{value:!0});var v=n(1),m=n(2),y=n(53),g=function(){function e(t,n,i){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.set(this,void 0),s.set(this,void 0),a.set(this,void 0),o.set(this,void 0),l.set(this,void 0),c.set(this,{controls:{},media:{}}),u.set(this,void 0),d.set(this,void 0),h.set(this,void 0),f(this,r,t),f(this,u,t.getOptions().labels),f(this,d,n),f(this,h,i),this}var t,n,g;return t=e,(n=[{key:"create",value:function(){var e=this;f(this,s,document.createElement("time")),p(this,s).className="op-controls__current",p(this,s).setAttribute("role","timer"),p(this,s).setAttribute("aria-live","off"),p(this,s).setAttribute("aria-hidden","false"),p(this,s).innerText="0:00";var t=p(this,r).getOptions().progress.showCurrentTimeOnly;t||(f(this,a,document.createElement("span")),p(this,a).className="op-controls__time-delimiter",p(this,a).setAttribute("aria-hidden","false"),p(this,a).innerText="/",f(this,o,document.createElement("time")),p(this,o).className="op-controls__duration",p(this,o).setAttribute("aria-hidden","false"),p(this,o).innerText=y.formatTime(p(this,r).getOptions().progress.duration));var n=p(this,r).getControls().getLayer(p(this,h));f(this,l,document.createElement("span")),p(this,l).className="op-controls-time op-control__".concat(p(this,d)),p(this,l).appendChild(p(this,s)),t||(p(this,l).appendChild(p(this,a)),p(this,l).appendChild(p(this,o))),n.appendChild(p(this,l));var i=function(){var n=p(e,r).activeElement();if(n.duration===1/0||p(e,r).getElement().getAttribute("op-live__enabled"))t||p(e,o).setAttribute("aria-hidden","true"),p(e,a).setAttribute("aria-hidden","true");else{if(!t){var i=isNaN(n.duration)?p(e,r).getOptions().progress.duration:n.duration;p(e,o).innerText=y.formatTime(i)}p(e,s).innerText=y.formatTime(n.currentTime)}};p(this,c).media.loadedmetadata=i.bind(this),p(this,c).controls.controlschanged=i.bind(this);var m=p(this,r).getOptions().live.showLabel;p(this,c).media.timeupdate=function(){var n=p(e,r).activeElement();if(n.duration===1/0||p(e,r).getElement().getAttribute("op-live__enabled")||p(e,r).getElement().getAttribute("op-dvr__enabled"))p(e,r).getElement().getAttribute("op-dvr__enabled")?(t||(p(e,o).setAttribute("aria-hidden","true"),p(e,a).setAttribute("aria-hidden","true")),p(e,s).innerText=y.formatTime(n.currentTime)):t||!p(e,r).getElement().getAttribute("op-dvr__enabled")&&"false"===p(e,o).getAttribute("aria-hidden")?(t||(p(e,o).setAttribute("aria-hidden","true"),p(e,a).setAttribute("aria-hidden","true")),p(e,s).innerText=m?p(e,u).live:y.formatTime(n.currentTime)):p(e,s).innerText=m?p(e,u).live:y.formatTime(n.currentTime);else{var i=y.formatTime(n.duration);t||isNaN(n.duration)||i===p(e,o).innerText?(t||i!==p(e,o).innerText)&&(p(e,s).innerText=m?p(e,u).live:y.formatTime(n.currentTime)):(p(e,o).innerText=i,p(e,o).setAttribute("aria-hidden","false"),p(e,a).setAttribute("aria-hidden","false")),p(e,s).innerText=y.formatTime(n.currentTime)}},p(this,c).media.ended=function(){var n=p(e,r).activeElement(),i=isNaN(n.duration)?p(e,r).getOptions().progress.duration:n.duration;!t&&p(e,r).isMedia()&&(p(e,o).innerText=y.formatTime(i))},Object.keys(p(this,c).media).forEach((function(t){p(e,r).getElement().addEventListener(t,p(e,c).media[t],v.EVENT_OPTIONS)})),p(this,r).getControls().getContainer().addEventListener("controlschanged",p(this,c).controls.controlschanged,v.EVENT_OPTIONS)}},{key:"destroy",value:function(){var e=this;Object.keys(p(this,c).media).forEach((function(t){p(e,r).getElement().removeEventListener(t,p(e,c).media[t])})),p(this,r).getControls().getContainer().removeEventListener("controlschanged",p(this,c).controls.controlschanged),m.removeElement(p(this,s)),p(this,r).getOptions().progress.showCurrentTimeOnly||(m.removeElement(p(this,a)),m.removeElement(p(this,o))),m.removeElement(p(this,l))}}])&&i(t.prototype,n),g&&i(t,g),e}();r=new WeakMap,s=new WeakMap,a=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,t.default=g},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,s,a,o,l,c,u,d,h,f,p=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},v=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};Object.defineProperty(t,"__esModule",{value:!0});var m=n(1),y=n(6),g=n(2),E=function(){function e(t,n,i){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.set(this,void 0),s.set(this,void 0),a.set(this,void 0),o.set(this,void 0),l.set(this,void 0),c.set(this,{button:{},media:{},slider:{}}),u.set(this,void 0),d.set(this,void 0),h.set(this,void 0),f.set(this,void 0),p(this,r,t),p(this,d,t.getOptions().labels),p(this,u,v(this,r).getMedia().volume),p(this,h,n),p(this,f,i),this._keydownEvent=this._keydownEvent.bind(this),this}var t,n,E;return t=e,(n=[{key:"create",value:function(){var e=this;p(this,a,document.createElement("div")),v(this,a).className="op-controls__volume op-control__".concat(v(this,h)),v(this,a).tabIndex=0,v(this,a).setAttribute("aria-valuemin","0"),v(this,a).setAttribute("aria-valuemax","100"),v(this,a).setAttribute("aria-valuenow","".concat(v(this,u))),v(this,a).setAttribute("aria-valuetext","".concat(v(this,d).volume,": ").concat(v(this,u))),v(this,a).setAttribute("aria-orientation","vertical"),v(this,a).setAttribute("aria-label",v(this,d).volumeSlider),p(this,l,document.createElement("input")),v(this,l).type="range",v(this,l).className="op-controls__volume--input",v(this,l).tabIndex=-1,v(this,l).value=v(this,r).getMedia().volume.toString(),v(this,l).setAttribute("min","0"),v(this,l).setAttribute("max","1"),v(this,l).setAttribute("step","0.1"),v(this,l).setAttribute("aria-label",v(this,d).volumeControl),p(this,o,document.createElement("progress")),v(this,o).className="op-controls__volume--display",v(this,o).setAttribute("max","10"),v(this,o).setAttribute("role","presentation"),v(this,o).value=10*v(this,r).getMedia().volume,v(this,a).appendChild(v(this,l)),v(this,a).appendChild(v(this,o)),p(this,s,document.createElement("button")),v(this,s).type="button",v(this,s).className="op-controls__mute op-control__".concat(v(this,h)),v(this,s).tabIndex=0,v(this,s).title=v(this,d).mute,v(this,s).setAttribute("aria-controls",v(this,r).id),v(this,s).setAttribute("aria-pressed","false"),v(this,s).setAttribute("aria-label",v(this,d).mute),v(this,s).innerHTML='<span class="op-sr">'.concat(v(this,d).mute,"</span>");var t=function(t){var n=v(e,r).activeElement(),i=parseFloat(t.target.value);n.volume=i,n.muted=0===n.volume,p(e,u,i);var s=v(e,r).getContainer().querySelector(".op-player__unmute");!n.muted&&s&&g.removeElement(s);var a=y.addEvent("volumechange");v(e,r).getElement().dispatchEvent(a)};if(v(this,c).media.volumechange=function(){var t,n,i,c=v(e,r).activeElement();n=1*(t=c).volume,i=Math.floor(100*n),v(e,l).value="".concat(t.volume),v(e,o).value=10*n,v(e,a).setAttribute("aria-valuenow","".concat(i)),v(e,a).setAttribute("aria-valuetext","".concat(v(e,d).volume,": ").concat(i)),function(t){var n=t.volume;n<=.5&&n>0?(v(e,s).classList.remove("op-controls__mute--muted"),v(e,s).classList.add("op-controls__mute--half")):0===n?(v(e,s).classList.add("op-controls__mute--muted"),v(e,s).classList.remove("op-controls__mute--half")):(v(e,s).classList.remove("op-controls__mute--muted"),v(e,s).classList.remove("op-controls__mute--half"))}(c)},v(this,c).media.timeupdate=function(){g.isAudio(v(e,r).getElement())&&(v(e,r).activeElement().duration===1/0||v(e,r).getElement().getAttribute("op-live__enabled"))},v(this,c).media.loadedmetadata=function(){var t=v(e,r).activeElement();t.muted&&(t.volume=0);var n=y.addEvent("volumechange");v(e,r).getElement().dispatchEvent(n)},v(this,c).slider.input=t.bind(this),v(this,c).slider.change=t.bind(this),v(this,c).button.click=function(){v(e,s).setAttribute("aria-pressed","true");var t=v(e,r).activeElement();t.muted=!t.muted,t.muted?(t.volume=0,v(e,s).title=v(e,d).unmute,v(e,s).setAttribute("aria-label",v(e,d).unmute)):(t.volume=v(e,u),v(e,s).title=v(e,d).mute,v(e,s).setAttribute("aria-label",v(e,d).mute));var n=y.addEvent("volumechange");v(e,r).getElement().dispatchEvent(n)},v(this,s).addEventListener("click",v(this,c).button.click,m.EVENT_OPTIONS),Object.keys(v(this,c).media).forEach((function(t){v(e,r).getElement().addEventListener(t,v(e,c).media[t],m.EVENT_OPTIONS)})),Object.keys(v(this,c).slider).forEach((function(t){v(e,l).addEventListener(t,v(e,c).slider[t],m.EVENT_OPTIONS)})),v(this,r).getContainer().addEventListener("keydown",this._keydownEvent,m.EVENT_OPTIONS),!m.IS_ANDROID&&!m.IS_IOS){var n=v(this,r).getControls().getLayer(v(this,f));n.appendChild(v(this,s)),n.appendChild(v(this,a))}}},{key:"destroy",value:function(){var e=this;v(this,s).removeEventListener("click",v(this,c).button.click),Object.keys(v(this,c).media).forEach((function(t){v(e,r).getElement().removeEventListener(t,v(e,c).media[t])})),Object.keys(v(this,c).slider).forEach((function(t){v(e,l).removeEventListener(t,v(e,c).slider[t])})),v(this,r).getContainer().removeEventListener("keydown",this._keydownEvent),g.removeElement(v(this,l)),g.removeElement(v(this,o)),g.removeElement(v(this,a))}},{key:"_keydownEvent",value:function(e){var t,n=e.which||e.keyCode||0,i=v(this,r).activeElement();!(null===(t=null===document||void 0===document?void 0:document.activeElement)||void 0===t?void 0:t.classList.contains("op-controls__mute"))||13!==n&&32!==n||(i.muted=!i.muted,i.volume=i.muted?0:v(this,u),e.preventDefault(),e.stopPropagation())}}])&&i(t.prototype,n),E&&i(t,E),e}();r=new WeakMap,s=new WeakMap,a=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,f=new WeakMap,t.default=E},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a,o,l,c,u,d,h,f,p,v=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),m=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),y=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&v(t,e,n);return m(t,e),t},g=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},E=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},b=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var _=b(n(148)),k=b(n(149)),w=b(n(150)),A=b(n(151)),O=y(n(13)),T=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3?arguments[3]:void 0;return r(this,e),a.set(this,void 0),o.set(this,void 0),l.set(this,void 0),c.set(this,void 0),u.set(this,void 0),d.set(this,void 0),h.set(this,!1),f.set(this,{media:{},optionsKey:{},rules:[]}),p.set(this,void 0),g(this,a,t),g(this,u,n),g(this,l,this._getMediaFiles()),g(this,f,s),g(this,d,i),this}var t,n,v;return t=e,(n=[{key:"canPlayType",value:function(e){return E(this,o).canPlayType(e)}},{key:"load",value:function(){var e=this;if(!E(this,l).length)throw new TypeError("Media not set");E(this,o)&&"function"==typeof E(this,o).destroy&&(1===E(this,l).length&&E(this,l)[0].src===E(this,o).media.src||E(this,o).destroy()),E(this,l).some((function(t){try{g(e,o,e._invoke(t))}catch(n){g(e,o,new A.default(E(e,a),t))}return E(e,o).canPlayType(t.type)}));try{if(null===E(this,o))throw new TypeError("Media cannot be played with any valid media type");return E(this,o).promise.then((function(){E(e,o).load()}))}catch(e){throw E(this,o).destroy(),e}}},{key:"play",value:function(){var e=this;if(!this.loaded){this.loaded=!0;var t=this.load();if(t)return this.loaded=!0,t.then((function(){E(e,o).play()}))}return g(this,c,new Promise((function(e){e({})})).then(E(this,o).promise.then(E(this,o).play()))),E(this,c)}},{key:"pause",value:function(){var e=this;void 0!==E(this,c)?E(this,c).then((function(){E(e,o).pause()})):E(this,o).pause()}},{key:"destroy",value:function(){E(this,o).destroy()}},{key:"_getMediaFiles",value:function(){var e=[],t=E(this,a).querySelectorAll("source"),n=E(this,a).src;n&&e.push({src:n,type:E(this,a).getAttribute("type")||O.predictType(n)});for(var i=0,r=t.length;i<r;i++){var s=t[i],o=s.src;e.push({src:o,type:s.getAttribute("type")||O.predictType(o)}),0===i&&g(this,p,e[0])}return e.length||e.push({src:"",type:O.predictType("")}),e}},{key:"_invoke",value:function(e){var t=this,n=E(this,a).canPlayType("application/vnd.apple.mpegurl")||E(this,a).canPlayType("application/x-mpegURL");g(this,p,e);var i,r=!1;if(Object.keys(E(this,u).controls.layers).forEach((function(e){E(t,u).controls.layers[e].indexOf("levels")>-1&&(r=!0)})),Object.keys(E(this,f).media).length)return E(this,f).rules.forEach((function(n){var r=n(e.src);if(r){var s=E(t,f).media[r],o=E(t,u)[E(t,f).optionsKey[r]]||void 0;i=s(E(t,a),e,E(t,d),o)}})),i?(i.create(),i):new A.default(E(this,a),e);if(O.isHlsSource(e)){if(n&&E(this,u).forceNative&&!r)return new A.default(E(this,a),e);var s=E(this,u)&&E(this,u).hls?E(this,u).hls:void 0;return new w.default(E(this,a),e,E(this,d),s)}if(O.isDashSource(e)){var o=E(this,u)&&E(this,u).dash?E(this,u).dash:void 0;return new _.default(E(this,a),e,o)}if(O.isFlvSource(e)){var l=E(this,u)&&E(this,u).flv?E(this,u).flv:{debug:!1,type:"flv",url:e.src};return new k.default(E(this,a),e,l)}return new A.default(E(this,a),e)}},{key:"src",set:function(e){var t=this;"string"==typeof e?E(this,l).push({src:e,type:O.predictType(e)}):Array.isArray(e)?g(this,l,e):"object"===i(e)&&E(this,l).push(e),E(this,l).some((function(e){return t.canPlayType(e.type)})),E(this,a).src&&E(this,a).setAttribute("data-op-file",E(this,l)[0].src),E(this,a).src=E(this,l)[0].src,E(this,o).src=E(this,l)[0],g(this,p,E(this,l)[0])},get:function(){return E(this,l)}},{key:"current",get:function(){return E(this,p)}},{key:"mediaFiles",set:function(e){g(this,l,e)},get:function(){return E(this,l)}},{key:"volume",set:function(e){E(this,o)&&(E(this,o).volume=e)},get:function(){return E(this,o)?E(this,o).volume:E(this,a).volume}},{key:"muted",set:function(e){E(this,o)&&(E(this,o).muted=e)},get:function(){return E(this,o)?E(this,o).muted:E(this,a).muted}},{key:"playbackRate",set:function(e){E(this,o)&&(E(this,o).playbackRate=e)},get:function(){return E(this,o)?E(this,o).playbackRate:E(this,a).playbackRate}},{key:"defaultPlaybackRate",set:function(e){E(this,o)&&(E(this,o).defaultPlaybackRate=e)},get:function(){return E(this,o)?E(this,o).defaultPlaybackRate:E(this,a).defaultPlaybackRate}},{key:"currentTime",set:function(e){E(this,o)&&(E(this,o).currentTime=e)},get:function(){return E(this,o)?E(this,o).currentTime:E(this,a).currentTime}},{key:"duration",get:function(){var e=E(this,o)?E(this,o).duration:E(this,a).duration;return e===1/0&&E(this,a).seekable&&E(this,a).seekable.length?E(this,a).seekable.end(0):e}},{key:"paused",get:function(){return E(this,o)?E(this,o).paused:E(this,a).paused}},{key:"ended",get:function(){return E(this,o)?E(this,o).ended:E(this,a).ended}},{key:"loaded",set:function(e){g(this,h,e)},get:function(){return E(this,h)}},{key:"level",set:function(e){E(this,o)&&(E(this,o).level=e)},get:function(){return E(this,o)?E(this,o).level:-1}},{key:"levels",get:function(){return E(this,o)?E(this,o).levels:[]}},{key:"instance",get:function(){return E(this,o)?E(this,o).instance:null}}])&&s(t.prototype,n),v&&s(t,v),e}();a=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,f=new WeakMap,p=new WeakMap,t.default=T},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return o(this,n)}}function o(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u,d,h,f=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},p=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},v=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var m=n(1),y=n(6),g=n(2),E=n(13),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(b,e);var t,n,c,v=a(b);function b(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),i=v.call(this,e,t),u.set(l(i),void 0),d.set(l(i),{}),h.set(l(i),{}),f(l(i),h,n),i.promise="undefined"==typeof dashjs?g.loadScript("https://cdn.dashjs.org/latest/dash.all.min.js"):new Promise((function(e){e({})})),i._assign=i._assign.bind(l(i)),i.promise.then((function(){f(l(i),u,dashjs.MediaPlayer().create()),i.instance=p(l(i),u)})),o(i,l(i))}return t=b,(n=[{key:"canPlayType",value:function(e){return m.HAS_MSE&&"application/dash+xml"===e}},{key:"load",value:function(){var e=this;this._preparePlayer(),p(this,u).attachSource(this.media.src);var t=y.addEvent("loadedmetadata");this.element.dispatchEvent(t),p(this,d)||(f(this,d,dashjs.MediaPlayer.events),Object.keys(p(this,d)).forEach((function(t){p(e,u).on(p(e,d)[t],e._assign)})))}},{key:"destroy",value:function(){this._revoke()}},{key:"_assign",value:function(e){if("error"===e.type){var t={detail:{message:e,type:"M(PEG)-DASH"}},n=y.addEvent("playererror",t);this.element.dispatchEvent(n)}else{var i=y.addEvent(e.type,{detail:e});this.element.dispatchEvent(i)}}},{key:"_revoke",value:function(){var e=this;p(this,d)&&(Object.keys(p(this,d)).forEach((function(t){p(e,u).off(p(e,d)[t],e._assign)})),f(this,d,[])),p(this,u).reset()}},{key:"_preparePlayer",value:function(){void 0===p(this,u).getDebug().setLogToBrowserConsole?p(this,u).updateSettings({debug:{logLevel:dashjs.Debug.LOG_LEVEL_NONE},streaming:{fastSwitchEnabled:!0,scheduleWhilePaused:!1}}):(p(this,u).getDebug().setLogToBrowserConsole(!1),p(this,u).setScheduleWhilePaused(!1),p(this,u).setFastSwitchEnabled(!0)),p(this,u).initialize(),p(this,u).attachView(this.element),p(this,u).setAutoPlay(!1),p(this,h)&&"object"===i(p(this,h).drm)&&Object.keys(p(this,h).drm).length&&(p(this,u).setProtectionData(p(this,h).drm),p(this,h).robustnessLevel&&p(this,h).robustnessLevel&&p(this,u).getProtectionController().setRobustnessLevel(p(this,h).robustnessLevel))}},{key:"src",set:function(e){var t=this;E.isDashSource(e)&&(this._revoke(),f(this,u,dashjs.MediaPlayer().create()),this._preparePlayer(),p(this,u).attachSource(e.src),f(this,d,dashjs.MediaPlayer.events),Object.keys(p(this,d)).forEach((function(e){p(t,u).on(p(t,d)[e],t._assign)})))}},{key:"levels",get:function(){var e=[];if(p(this,u)){var t=p(this,u).getBitrateInfoListFor("video");t.length&&t.forEach((function(n){if(t[n]){var i=t[n],r={height:i.height,id:n,label:i.name||null};e.push(r)}}))}return e}},{key:"level",set:function(e){0===e?p(this,u).setAutoSwitchQuality(!0):(p(this,u).setAutoSwitchQuality(!1),p(this,u).setQualityFor("video",e))},get:function(){return p(this,u)?p(this,u).getQualityFor("video"):-1}}])&&r(t.prototype,n),c&&r(t,c),b}(v(n(30)).default);u=new WeakMap,d=new WeakMap,h=new WeakMap,t.default=b},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return o(this,n)}}function o(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u,d,h,f=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},p=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},v=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n},m=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var y=n(1),g=n(6),E=n(2),b=n(13),_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(m,e);var t,n,i,c=a(m);function m(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),i=c.call(this,e,t),u.set(l(i),void 0),d.set(l(i),{}),h.set(l(i),void 0),f(l(i),h,n),i.element=e,i.media=t,i.promise="undefined"==typeof flvjs?E.loadScript("https://cdn.jsdelivr.net/npm/flv.js@latest/dist/flv.min.js"):new Promise((function(e){e({})})),i._create=i._create.bind(l(i)),i.promise.then(i._create),o(i,l(i))}return t=m,(n=[{key:"canPlayType",value:function(e){return y.HAS_MSE&&("video/x-flv"===e||"video/flv"===e)}},{key:"load",value:function(){var e=this;p(this,u).unload(),p(this,u).detachMediaElement(),p(this,u).attachMediaElement(this.element),p(this,u).load();var t=g.addEvent("loadedmetadata");this.element.dispatchEvent(t),p(this,d)||(f(this,d,flvjs.Events),Object.keys(p(this,d)).forEach((function(t){p(e,u).on(p(e,d)[t],(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e._assign(p(e,d)[t],i)}))})))}},{key:"destroy",value:function(){this._revoke()}},{key:"_create",value:function(){var e=this,t=p(this,h),n=t.configs,i=v(t,["configs"]);flvjs.LoggingControl.enableDebug=!(!i||!i.debug)&&i.debug,flvjs.LoggingControl.enableVerbose=!(!i||!i.debug)&&i.debug;var r=Object.assign(Object.assign({},i),{type:"flv",url:this.media.src});f(this,u,flvjs.createPlayer(r,n)),this.instance=p(this,u),p(this,d)||(f(this,d,flvjs.Events),Object.keys(p(this,d)).forEach((function(t){p(e,u).on(p(e,d)[t],(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e._assign(p(e,d)[t],i)}))})))}},{key:"_assign",value:function(e,t){if("error"===e){var n={detail:{data:t,message:"".concat(t[0],": ").concat(t[1]," ").concat(t[2].msg),type:"FLV"}},i=g.addEvent("playererror",n);this.element.dispatchEvent(i)}else{var r=g.addEvent(e,{detail:{data:t}});this.element.dispatchEvent(r)}}},{key:"_revoke",value:function(){p(this,u).destroy(),f(this,u,null)}},{key:"src",set:function(e){b.isFlvSource(e)&&(this._revoke(),this._create())}},{key:"levels",get:function(){var e=this,t=[];return p(this,u)&&p(this,u).levels&&p(this,u).levels.length&&Object.keys(p(this,u).levels).forEach((function(n){var i=p(e,u).levels[n],r={height:i.height,id:n,label:i.name||null};t.push(r)})),t}},{key:"level",set:function(e){p(this,u).currentLevel=e},get:function(){return p(this,u)?p(this,u).currentLevel:-1}}])&&r(t.prototype,n),i&&r(t,i),m}(m(n(30)).default);u=new WeakMap,d=new WeakMap,h=new WeakMap,t.default=_},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=u(e);if(t){var r=u(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d,h,f,p,v,m,y=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},g=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},E=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n},b=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var _=n(1),k=n(6),w=n(2),A=n(13),O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(b,e);var t,n,i,u=o(b);function b(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3?arguments[3]:void 0;return r(this,b),n=u.call(this,e,t),d.set(c(n),void 0),h.set(c(n),{}),f.set(c(n),0),p.set(c(n),0),v.set(c(n),void 0),m.set(c(n),void 0),y(c(n),v,s),n.element=e,n.media=t,y(c(n),m,i),n.promise="undefined"==typeof Hls?w.loadScript("https://cdn.jsdelivr.net/npm/hls.js@latest/dist/hls.min.js"):new Promise((function(e){e({})})),n._create=n._create.bind(c(n)),n.promise.then(n._create),l(n,c(n))}return t=b,(n=[{key:"canPlayType",value:function(e){return _.SUPPORTS_HLS()&&"application/x-mpegURL"===e}},{key:"load",value:function(){var e=this;g(this,d).detachMedia(),g(this,d).loadSource(this.media.src),g(this,d).attachMedia(this.element);var t=k.addEvent("loadedmetadata");this.element.dispatchEvent(t),g(this,h)||(y(this,h,Hls.Events),Object.keys(g(this,h)).forEach((function(t){g(e,d).on(g(e,h)[t],(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e._assign(g(e,h)[t],i)}))})))}},{key:"destroy",value:function(){this._revoke()}},{key:"_create",value:function(){var e=this,t=g(this,v);t||(t={});var n=!("auto"!==this.element.preload&&!g(this,m));t.autoStartLoad=n,y(this,d,new Hls(t)),this.instance=g(this,d),y(this,h,Hls.Events),Object.keys(g(this,h)).forEach((function(t){g(e,d).on(g(e,h)[t],(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e._assign(g(e,h)[t],i)}))})),n||(this.element.addEventListener("play",(function(){g(e,d)&&g(e,d).startLoad()}),_.EVENT_OPTIONS),this.element.addEventListener("pause",(function(){g(e,d)&&g(e,d).stopLoad()}),_.EVENT_OPTIONS))}},{key:"_assign",value:function(e,t){if("hlsError"===e){var n={detail:{data:t,message:t[1].details,type:"HLS"}},i=k.addEvent("playererror",n);this.element.dispatchEvent(i);var r=t=t[1],s=r.type,a=r.fatal,o=E(t,["type","fatal"]);if(a)switch(s){case"mediaError":var l=(new Date).getTime();if(!g(this,f)||l-g(this,f)>3e3)y(this,f,(new Date).getTime()),g(this,d).recoverMediaError();else if(!g(this,p)||l-g(this,p)>3e3)y(this,p,(new Date).getTime()),console.warn("Attempting to swap Audio Codec and recover from media error"),g(this,d).swapAudioCodec(),g(this,d).recoverMediaError();else{console.error("Cannot recover, last media error recovery failed");var c=k.addEvent(s,{detail:{data:o}});this.element.dispatchEvent(c)}break;case"networkError":console.error("Network error");var u=k.addEvent(s,{detail:{data:o}});this.element.dispatchEvent(u);break;default:g(this,d).destroy();var h=k.addEvent(s,{detail:{data:o}});this.element.dispatchEvent(h)}else{var v=k.addEvent(s,{detail:{data:o}});this.element.dispatchEvent(v)}}else{if("hlsLevelLoaded"===e&&!0===t[1].details.live){this.element.setAttribute("op-live__enabled","true");var m=k.addEvent("timeupdate");this.element.dispatchEvent(m)}else if("hlsLevelUpdated"===e&&!0===t[1].details.live&&t[1].details.totalduration>_.DVR_THRESHOLD){this.element.setAttribute("op-dvr__enabled","true");var b=k.addEvent("timeupdate");this.element.dispatchEvent(b)}else if("hlsFragParsingMetadata"===e){var w=k.addEvent("metadataready",{detail:{data:t[1]}});this.element.dispatchEvent(w)}var A=k.addEvent(e,{detail:{data:t[1]}});this.element.dispatchEvent(A)}}},{key:"_revoke",value:function(){var e=this;g(this,d).stopLoad(),g(this,h)&&Object.keys(g(this,h)).forEach((function(t){g(e,d).off(g(e,h)[t],(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e._assign(g(e,h)[t],i)}))})),this.element.removeEventListener("play",(function(){g(e,d)&&g(e,d).startLoad()})),this.element.removeEventListener("pause",(function(){g(e,d)&&g(e,d).stopLoad()})),g(this,d).destroy(),y(this,d,null)}},{key:"src",set:function(e){var t=this;A.isHlsSource(e)&&(this._revoke(),y(this,d,new Hls(g(this,v))),g(this,d).loadSource(e.src),g(this,d).attachMedia(this.element),y(this,h,Hls.Events),Object.keys(g(this,h)).forEach((function(e){g(t,d).on(g(t,h)[e],(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t._assign(g(t,h)[e],i)}))})))}},{key:"levels",get:function(){var e=this,t=[];return g(this,d)&&g(this,d).levels&&g(this,d).levels.length&&Object.keys(g(this,d).levels).forEach((function(n){var i=g(e,d).levels[n],r={height:i.height,id:n,label:i.name||null};t.push(r)})),t}},{key:"level",set:function(e){g(this,d).currentLevel=e},get:function(){return g(this,d)?g(this,d).currentLevel:-1}}])&&s(t.prototype,n),i&&s(t,i),b}(b(n(30)).default);d=new WeakMap,h=new WeakMap,f=new WeakMap,p=new WeakMap,v=new WeakMap,m=new WeakMap,t.default=O},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return o(this,n)}}function o(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u,d,h,f,p,v,m=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},y=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},g=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var E=n(1),b=n(6),_=n(2),k=n(13),w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(g,e);var t,n,i,c=a(g);function g(e,t){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),n=c.call(this,e,t),u.set(l(n),null),d.set(l(n),[]),h.set(l(n),!1),f.set(l(n),0),p.set(l(n),!1),v.set(l(n),void 0),!_.isAudio(e)&&!_.isVideo(e))throw new TypeError("Native method only supports video/audio tags");return n._clearTimeout=n._clearTimeout.bind(l(n)),n._setTimeout=n._setTimeout.bind(l(n)),n._dispatchError=n._dispatchError.bind(l(n)),n._isDvrEnabled=n._isDvrEnabled.bind(l(n)),n._readMediadataInfo=n._readMediadataInfo.bind(l(n)),m(l(n),h,k.isHlsSource(t)),n.element.addEventListener("playing",n._clearTimeout,E.EVENT_OPTIONS),n.element.addEventListener("stalled",n._setTimeout,E.EVENT_OPTIONS),n.element.addEventListener("error",n._dispatchError,E.EVENT_OPTIONS),n.element.addEventListener("loadeddata",n._isDvrEnabled,E.EVENT_OPTIONS),n.element.textTracks.addEventListener("addtrack",n._readMediadataInfo,E.EVENT_OPTIONS),o(n,l(n))}return t=g,(n=[{key:"canPlayType",value:function(e){return!!this.element.canPlayType(e).replace("no","")}},{key:"load",value:function(){this.element.load()}},{key:"destroy",value:function(){return this.element.removeEventListener("playing",this._clearTimeout),this.element.removeEventListener("stalled",this._setTimeout),this.element.removeEventListener("error",this._dispatchError),this.element.removeEventListener("loadeddata",this._isDvrEnabled),this.element.textTracks.removeEventListener("addtrack",this._readMediadataInfo),this}},{key:"_isDvrEnabled",value:function(){var e=this.element.seekable.end(this.element.seekable.length-1)-this.element.seekable.start(0);if(y(this,h)&&e>E.DVR_THRESHOLD&&!this.element.getAttribute("op-dvr__enabled")){this.element.setAttribute("op-dvr__enabled","true");var t=b.addEvent("timeupdate");this.element.dispatchEvent(t)}}},{key:"_readMediadataInfo",value:function(e){var t=this,n=e;"metadata"===n.track.kind&&(n.track.mode="hidden",n.track.addEventListener("cuechange",(function(e){var n=e.target,i=n.activeCues?n.activeCues[0]:null;if(i){var r=b.addEvent("metadataready",{detail:i});t.element.dispatchEvent(r)}}),E.EVENT_OPTIONS))}},{key:"_setTimeout",value:function(){var e=this;y(this,p)||(m(this,p,!0),m(this,v,setInterval((function(){if(y(e,f)>=30){clearInterval(y(e,v));var t="Media download failed part-way due to a network error",n={detail:{data:{message:t,error:2},message:t,type:"HTML5"}},i=b.addEvent("playererror",n);e.element.dispatchEvent(i),m(e,f,0),m(e,p,!1)}else m(e,f,+y(e,f)+1)}),1e3)))}},{key:"_clearTimeout",value:function(){y(this,v)&&(clearInterval(y(this,v)),m(this,f,0),m(this,p,!1))}},{key:"_dispatchError",value:function(e){var t;switch(e.target.error.code){case e.target.error.MEDIA_ERR_ABORTED:t="Media playback aborted";break;case e.target.error.MEDIA_ERR_NETWORK:t="Media download failed part-way due to a network error";break;case e.target.error.MEDIA_ERR_DECODE:t="Media playback aborted due to a corruption problem or because the media used features your browser did not support.";break;case e.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:t="Media could not be loaded, either because the server or network failed or because the format is not supported.";break;default:t="Unknown error occurred."}var n={detail:{data:Object.assign(Object.assign({},e),{message:e.message||t,error:e.target.error.code}),message:e.message||t,type:"HTML5"}},i=b.addEvent("playererror",n);this.element.dispatchEvent(i)}},{key:"levels",get:function(){if(!y(this,d).length)for(var e=this.element.querySelectorAll("source[title]"),t=0,n=e.length;t<n;++t){var i={height:0,id:"".concat(t),label:e[t].getAttribute("title")};y(this,d).push(i)}return y(this,d)}},{key:"level",set:function(e){var t=y(this,d).findIndex((function(t){return parseInt(t.id,10)===e}));if(t>-1){m(this,u,this.levels[t]);for(var n=this.element.querySelectorAll("source[title]"),i=0,r=n.length;i<r;++i){var s=n[i].getAttribute("src");s&&parseInt(y(this,u).id,10)===i&&(this.element.src=s)}}},get:function(){return y(this,u)?y(this,u).id:"-1"}},{key:"src",set:function(e){this.element.src=e.src}}])&&r(t.prototype,n),i&&r(t,i),g}(g(n(30)).default);u=new WeakMap,d=new WeakMap,h=new WeakMap,f=new WeakMap,p=new WeakMap,v=new WeakMap,t.default=w},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,s,a,o,l,c,u,d,h,f,p,v,m,y,g,E,b,_,k,w,A,O,T,S,L,M,P,N,I,C,x,j=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},R=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};Object.defineProperty(t,"__esModule",{value:!0});var D=n(1),W=n(6),V=n(2),F=function(){function e(t,n,i,D,F){var H=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.set(this,!1),s.set(this,!1),a.set(this,!1),o.set(this,!1),l.set(this,0),c.set(this,void 0),u.set(this,!1),d.set(this,0),h.set(this,0),f.set(this,null),p.set(this,void 0),v.set(this,void 0),m.set(this,void 0),y.set(this,[]),g.set(this,void 0),E.set(this,void 0),b.set(this,void 0),_.set(this,void 0),k.set(this,void 0),w.set(this,void 0),A.set(this,void 0),O.set(this,!1),T.set(this,!1),S.set(this,!1),L.set(this,void 0),M.set(this,0),P.set(this,void 0),N.set(this,void 0),I.set(this,0),C.set(this,[]),x.set(this,!1);var B={autoPlayAdBreaks:!0,customClick:{enabled:!1,label:"Click here for more info"},debug:!1,enablePreloading:!1,language:"en",loop:!1,numRedirects:4,sdkPath:"https://imasdk.googleapis.com/js/sdkloader/ima3.js",src:[]};if(j(this,p,t),j(this,g,n),j(this,v,t.getMedia()),j(this,m,t.getElement()),j(this,O,i||!1),j(this,T,D||!1),j(this,L,Object.assign(Object.assign({},B),F)),F){["customClick"].forEach((function(e){R(H,L)[e]=F[e]&&Object.keys(F[e]).length?Object.assign(Object.assign({},B[e]),F[e]):B[e]}))}j(this,S,!1),j(this,P,R(this,m).volume),j(this,c,R(this,P));var q=R(this,L).debug?R(this,L).sdkPath.replace(/(\.js$)/,"_debug.js"):R(this,L).sdkPath;return this._handleClickInContainer=this._handleClickInContainer.bind(this),this._loaded=this._loaded.bind(this),this._error=this._error.bind(this),this._assign=this._assign.bind(this),this._contentLoadedAction=this._contentLoadedAction.bind(this),this._loadedMetadataHandler=this._loadedMetadataHandler.bind(this),this._contentEndedListener=this._contentEndedListener.bind(this),this.resizeAds=this.resizeAds.bind(this),this._handleResizeAds=this._handleResizeAds.bind(this),this._onContentPauseRequested=this._onContentPauseRequested.bind(this),this._onContentResumeRequested=this._onContentResumeRequested.bind(this),j(this,E,"undefined"==typeof google||void 0===google.ima?V.loadScript(q):new Promise((function(e){e({})}))),R(this,E).then((function(){H.load()})).catch((function(e){var t="Ad script could not be loaded; please check if you have an AdBlock turned on, or if you provided a valid URL is correct";console.error("Ad error: ".concat(t));var n={detail:{data:e,message:t,type:"Ads"}},i=W.addEvent("playererror",n);R(H,m).dispatchEvent(i)})),this}var t,n,F;return t=e,(n=[{key:"load",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(R(this,L).autoPlayAdBreaks||t){var n=R(this,p).getContainer().querySelector(".op-ads");n&&n.parentNode&&n.parentNode.removeChild(n),j(this,o,!0),j(this,_,document.createElement("div")),R(this,_).className="op-ads",R(this,_).tabIndex=-1,R(this,m).parentElement&&R(this,m).parentElement.insertBefore(R(this,_),R(this,m).nextSibling),R(this,_).addEventListener("click",this._handleClickInContainer),R(this,L).customClick.enabled&&(j(this,k,document.createElement("div")),R(this,k).className="op-ads__click-container",R(this,k).innerHTML='<div class="op-ads__click-label">'.concat(R(this,L).customClick.label,"</div>"),R(this,m).parentElement&&R(this,m).parentElement.insertBefore(R(this,k),R(this,m).nextSibling)),j(this,C,R(this,v).src),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),google.ima.settings.setAutoPlayAdBreaks(R(this,L).autoPlayAdBreaks),google.ima.settings.setNumRedirects(R(this,L).numRedirects),google.ima.settings.setLocale(R(this,L).language),j(this,w,new google.ima.AdDisplayContainer(R(this,_),R(this,m),R(this,k))),j(this,b,new google.ima.AdsLoader(R(this,w))),R(this,b).addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this._loaded,D.EVENT_OPTIONS),R(this,b).addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this._error,D.EVENT_OPTIONS),"undefined"!=typeof window&&window.addEventListener("resize",(function(){return e.resizeAds()}),D.EVENT_OPTIONS),R(this,m).addEventListener("loadedmetadata",this._handleResizeAds,D.EVENT_OPTIONS),!0!==R(this,O)&&!0!==R(this,T)&&!0!==t&&!0!==R(this,L).enablePreloading||(R(this,s)||(j(this,s,!0),R(this,w).initialize()),this._requestAds())}}},{key:"play",value:function(){var e=this,t=function(){if(R(e,s)){if(R(e,f)){R(e,l)||!1!==R(e,a)?R(e,f).resume():R(e,f).start(),j(e,a,!0);var t=W.addEvent("play");R(e,m).dispatchEvent(t)}}else e._initNotDoneAds()};return new Promise((function(e){e({})})).then(t)}},{key:"pause",value:function(){if(R(this,f)){j(this,a,!1),R(this,f).pause();var e=W.addEvent("pause");R(this,m).dispatchEvent(e)}}},{key:"destroy",value:function(){var e,t=this;R(this,y)&&R(this,y).forEach((function(e){R(t,f).removeEventListener(e,t._assign)})),j(this,y,[]);var n=R(this,p).getControls(),i=n?n.events.mouse:{};Object.keys(i).forEach((function(e){R(t,_)&&R(t,_).removeEventListener(e,i[e])})),R(this,b)&&(R(this,b).removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this._error),R(this,b).removeEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this._loaded));var r=!Array.isArray(R(this,g))||R(this,M)>R(this,g).length;R(this,f)&&r&&R(this,f).destroy(),R(this,L).customClick.enabled&&V.removeElement(R(this,k)),(D.IS_IOS||D.IS_ANDROID)&&R(this,m).removeEventListener("loadedmetadata",this._contentLoadedAction),R(this,m).removeEventListener("loadedmetadata",this._handleResizeAds),R(this,m).removeEventListener("loadedmetadata",this._loadedMetadataHandler),R(this,m).removeEventListener("ended",this._contentEndedListener),"undefined"!=typeof window&&window.removeEventListener("resize",(function(){return t.resizeAds()})),null===(e=R(this,_))||void 0===e||e.removeEventListener("click",this._handleClickInContainer),V.removeElement(R(this,_))}},{key:"resizeAds",value:function(e,t){var n=this;if(R(this,f)){var i=R(this,m),r="true"===i.getAttribute("data-fullscreen")?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL,s=e,a=e?e.toString():"";e&&a.indexOf("%")>-1&&R(this,m).parentElement&&(s=R(this,m).parentElement.offsetWidth*(parseInt(a,10)/100));var o,l=t,c=t?t.toString():"";t&&c.indexOf("%")>-1&&R(this,m).parentElement&&(l=R(this,m).parentElement.offsetHeight*(parseInt(c,10)/100)),o&&"undefined"!=typeof window&&window.cancelAnimationFrame(o),"undefined"!=typeof window&&(o=window.requestAnimationFrame((function(){R(n,f).resize(s||i.offsetWidth,l||i.offsetHeight,r)})))}}},{key:"getAdsManager",value:function(){return R(this,f)}},{key:"started",value:function(){return R(this,o)}},{key:"_assign",value:function(e){var t=this,n=e.getAd();switch(e.type){case google.ima.AdEvent.Type.LOADED:if(n.isLinear()){if(D.IS_IPHONE&&V.isVideo(R(this,m))&&(R(this,m).controls=!1),j(this,d,n.getDuration()),j(this,h,n.getDuration()),!R(this,x)&&!D.IS_IOS&&!D.IS_ANDROID){var i=W.addEvent("waiting");R(this,m).dispatchEvent(i);var s=W.addEvent("loadedmetadata");R(this,m).dispatchEvent(s),this.resizeAds()}}else this._onContentResumeRequested();break;case google.ima.AdEvent.Type.STARTED:if(n.isLinear()){R(this,m).parentElement&&!R(this,m).parentElement.classList.contains("op-ads--active")&&R(this,m).parentElement.classList.add("op-ads--active"),R(this,v).paused||R(this,v).pause(),j(this,a,!0);var c,p=W.addEvent("play");if(R(this,m).dispatchEvent(p),c||(this.resizeAds(),c=!0),R(this,v).ended){j(this,r,!1);var y=W.addEvent("adsmediaended");R(this,m).dispatchEvent(y)}"undefined"!=typeof window&&j(this,l,window.setInterval((function(){if(!0===R(t,a)){j(t,h,Math.round(R(t,f).getRemainingTime()));var e=W.addEvent("timeupdate");R(t,m).dispatchEvent(e)}}),350))}break;case google.ima.AdEvent.Type.COMPLETE:case google.ima.AdEvent.Type.SKIPPED:if(n.isLinear()){if(e.type===google.ima.AdEvent.Type.SKIPPED){var g=W.addEvent("adsskipped");R(this,m).dispatchEvent(g)}R(this,m).parentElement&&R(this,m).parentElement.classList.remove("op-ads--active"),j(this,a,!1),clearInterval(R(this,l))}break;case google.ima.AdEvent.Type.VOLUME_CHANGED:this._setMediaVolume(this.volume);case google.ima.AdEvent.Type.VOLUME_MUTED:if(n.isLinear()){var E=W.addEvent("volumechange");R(this,m).dispatchEvent(E)}break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:if(n.isLinear()&&(j(this,a,!1),j(this,r,!0),j(this,l,0),j(this,u,!1),j(this,o,!1),j(this,d,0),j(this,h,0),R(this,m).parentElement&&R(this,m).parentElement.classList.remove("op-ads--active"),this.destroy(),R(this,m).currentTime>=R(this,m).duration)){var b=W.addEvent("ended");R(this,m).dispatchEvent(b)}break;case google.ima.AdEvent.Type.CLICK:var _=W.addEvent("pause");R(this,m).dispatchEvent(_)}if(e.type===google.ima.AdEvent.Type.LOG){var k=e.getAdData();if(k.adError){var w=k.adError.getMessage();console.warn("Ad warning: Non-fatal error occurred: ".concat(w));var A={detail:{data:k.adError,message:w,type:"Ads"}},O=W.addEvent("playererror",A);R(this,m).dispatchEvent(O)}}else{var T=W.addEvent("ads".concat(e.type));R(this,m).dispatchEvent(T)}}},{key:"_error",value:function(e){var t=e.getError(),n={detail:{data:t,message:t.toString(),type:"Ads"}},i=W.addEvent("playererror",n);R(this,m).dispatchEvent(i),Array.isArray(R(this,g))&&R(this,g).length>1&&R(this,M)<R(this,g).length-1?(j(this,M,+R(this,M)+1),j(this,S,!0),j(this,o,!0),j(this,s,!1),this.destroy(),this.load(!0),console.warn("Ad warning: ".concat(t.toString()))):([100,101,102,300,301,302,303,400,401,402,403,405,406,407,408,409,410,500,501,502,503,900,901,1005].indexOf(t.getErrorCode())>-1?(R(this,f)&&R(this,f).destroy(),console.error("Ad error: ".concat(t.toString()))):console.warn("Ad warning: ".concat(t.toString())),!0!==R(this,O)&&!0!==R(this,T)&&!0!==R(this,o)||(j(this,a,!1),this._resumeMedia()))}},{key:"_loaded",value:function(e){var t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!1,t.enablePreloading=R(this,L).enablePreloading,j(this,f,e.getAdsManager(R(this,m),t)),this._start(R(this,f))}},{key:"_start",value:function(e){var t=this;R(this,k)&&e.isCustomClickTrackingUsed()&&R(this,k).classList.add("op-ads__click-container--visible"),e.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this._onContentPauseRequested,D.EVENT_OPTIONS),e.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this._onContentResumeRequested,D.EVENT_OPTIONS),j(this,y,[google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.VIDEO_CLICKED,google.ima.AdEvent.Type.VIDEO_ICON_CLICKED,google.ima.AdEvent.Type.AD_PROGRESS,google.ima.AdEvent.Type.AD_BUFFERING,google.ima.AdEvent.Type.IMPRESSION,google.ima.AdEvent.Type.DURATION_CHANGE,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.LINEAR_CHANGED,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,google.ima.AdEvent.Type.AD_METADATA,google.ima.AdEvent.Type.INTERACTION,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.RESUMED,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.SKIPPED,google.ima.AdEvent.Type.VOLUME_CHANGED,google.ima.AdEvent.Type.VOLUME_MUTED,google.ima.AdEvent.Type.LOG]),R(this,L).autoPlayAdBreaks||R(this,y).push(google.ima.AdEvent.Type.AD_BREAK_READY);var n=R(this,p).getControls(),i=n?n.events.mouse:{};if(Object.keys(i).forEach((function(e){R(t,_)&&R(t,_).addEventListener(e,i[e],D.EVENT_OPTIONS)})),R(this,y).forEach((function(n){e.addEventListener(n,t._assign,D.EVENT_OPTIONS)})),!0===R(this,O)||!0===R(this,S)){if(j(this,S,!1),!R(this,s))return void this._initNotDoneAds();e.init(R(this,m).offsetWidth,R(this,m).offsetHeight,R(this,m).parentElement&&"true"===R(this,m).parentElement.getAttribute("data-fullscreen")?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),e.start();var r=W.addEvent("play");R(this,m).dispatchEvent(r);var a=W.addEvent("playing");R(this,m).dispatchEvent(a)}else!0===R(this,L).enablePreloading&&e.init(R(this,m).offsetWidth,R(this,m).offsetHeight,R(this,m).parentElement&&"true"===R(this,m).parentElement.getAttribute("data-fullscreen")?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}},{key:"_initNotDoneAds",value:function(){j(this,s,!0),R(this,w).initialize(),D.IS_IOS||D.IS_ANDROID?(j(this,N,this._contentLoadedAction),R(this,m).addEventListener("loadedmetadata",this._contentLoadedAction,D.EVENT_OPTIONS),R(this,m).load()):this._contentLoadedAction()}},{key:"_contentEndedListener",value:function(){j(this,r,!0),j(this,a,!1),j(this,o,!1),R(this,b).contentComplete()}},{key:"_onContentPauseRequested",value:function(){R(this,m).removeEventListener("ended",this._contentEndedListener),j(this,I,R(this,v).currentTime),R(this,o)?R(this,v).pause():j(this,o,!0);var e=W.addEvent("play");R(this,m).dispatchEvent(e)}},{key:"_onContentResumeRequested",value:function(){if(R(this,L).loop)Array.isArray(R(this,g))&&(R(this,M)===R(this,g).length-1?j(this,M,0):j(this,M,+R(this,M)+1)),this.destroy(),R(this,b).contentComplete(),j(this,S,!0),j(this,o,!0),j(this,s,!1),this.load(!0);else if(R(this,m).addEventListener("ended",this._contentEndedListener,D.EVENT_OPTIONS),R(this,m).addEventListener("loadedmetadata",this._loadedMetadataHandler,D.EVENT_OPTIONS),D.IS_IOS||D.IS_ANDROID)R(this,v).src=R(this,C),R(this,v).load(),this._prepareMedia(),R(this,m).parentElement&&R(this,m).parentElement.classList.add("op-ads--active");else{var e=W.addEvent("loadedmetadata");R(this,m).dispatchEvent(e)}}},{key:"_loadedMetadataHandler",value:function(){Array.isArray(R(this,g))?(j(this,M,+R(this,M)+1),R(this,M)<=R(this,g).length-1?(R(this,f)&&R(this,f).destroy(),R(this,b).contentComplete(),j(this,S,!0),j(this,o,!0),j(this,s,!1),this._requestAds()):(R(this,L).autoPlayAdBreaks||this._resetAdsAfterManualBreak(),this._prepareMedia())):R(this,m).seekable.length?R(this,m).seekable.end(0)>R(this,I)&&(R(this,L).autoPlayAdBreaks||this._resetAdsAfterManualBreak(),this._prepareMedia()):setTimeout(this._loadedMetadataHandler,100)}},{key:"_resumeMedia",value:function(){var e=this;j(this,l,0),j(this,u,!1),j(this,o,!1),j(this,d,0),j(this,h,0),R(this,m).parentElement&&R(this,m).parentElement.classList.remove("op-ads--active");var t,n,i=function(t){var n=W.addEvent(t);R(e,m).dispatchEvent(n)};(t=50,n=R(this,v).ended,new Promise((function(e,i){if(n)return i();setTimeout(e,t)}))).then((function(){return R(e,v).play().then((function(){return i("play")}))})).catch((function(){return i("ended")}))}},{key:"_requestAds",value:function(){j(this,A,new google.ima.AdsRequest);var e=Array.isArray(R(this,g))?R(this,g)[R(this,M)]:R(this,g);V.isXml(e)?R(this,A).adsResponse=e:R(this,A).adTagUrl=e;var t=R(this,m).parentElement?R(this,m).parentElement.offsetWidth:0,n=R(this,m).parentElement?R(this,m).parentElement.offsetHeight:0;R(this,A).linearAdSlotWidth=t,R(this,A).linearAdSlotHeight=n,R(this,A).nonLinearAdSlotWidth=t,R(this,A).nonLinearAdSlotHeight=n/3,R(this,A).setAdWillAutoPlay(R(this,O)),R(this,A).setAdWillPlayMuted(R(this,T)),R(this,b).requestAds(R(this,A))}},{key:"_contentLoadedAction",value:function(){R(this,N)&&(R(this,m).removeEventListener("loadedmetadata",R(this,N)),j(this,N,null)),this._requestAds()}},{key:"_resetAdsAfterManualBreak",value:function(){R(this,f)&&R(this,f).destroy(),R(this,b).contentComplete(),j(this,s,!1),j(this,S,!0)}},{key:"_prepareMedia",value:function(){R(this,v).currentTime=R(this,I),R(this,m).removeEventListener("loadedmetadata",this._loadedMetadataHandler),this._resumeMedia()}},{key:"_setMediaVolume",value:function(e){R(this,v).volume=e,R(this,v).muted=0===e}},{key:"_handleClickInContainer",value:function(){if(R(this,v).paused){var e=W.addEvent("paused");R(this,m).dispatchEvent(e),this.pause()}}},{key:"_handleResizeAds",value:function(){this.resizeAds()}},{key:"src",set:function(e){j(this,g,e)}},{key:"isDone",set:function(e){j(this,s,e)}},{key:"playRequested",set:function(e){j(this,S,e)}},{key:"volume",set:function(e){R(this,f)&&(j(this,c,e),R(this,f).setVolume(e),this._setMediaVolume(e),j(this,u,0===e))},get:function(){return R(this,f)?R(this,f).getVolume():R(this,P)}},{key:"muted",set:function(e){R(this,f)&&(e?(R(this,f).setVolume(0),j(this,u,!0),this._setMediaVolume(0)):(R(this,f).setVolume(R(this,c)),j(this,u,!1),this._setMediaVolume(R(this,c))))},get:function(){return R(this,u)}},{key:"currentTime",set:function(e){j(this,h,e)},get:function(){return R(this,h)}},{key:"duration",get:function(){return R(this,d)}},{key:"paused",get:function(){return!R(this,a)}},{key:"ended",get:function(){return R(this,r)}}])&&i(t.prototype,n),F&&i(t,F),e}();r=new WeakMap,s=new WeakMap,a=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,f=new WeakMap,p=new WeakMap,v=new WeakMap,m=new WeakMap,y=new WeakMap,g=new WeakMap,E=new WeakMap,b=new WeakMap,_=new WeakMap,k=new WeakMap,w=new WeakMap,A=new WeakMap,O=new WeakMap,T=new WeakMap,S=new WeakMap,L=new WeakMap,M=new WeakMap,P=new WeakMap,N=new WeakMap,I=new WeakMap,C=new WeakMap,x=new WeakMap,t.default=F}]).default}));