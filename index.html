<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="OpenPlayerJS is an ever-green lightweight media player that supports the most common video/audio files for the web, and also VAST/VPAID/VMAP Ads">
        <meta name="google-site-verification" content="Desj0WKx8CJ5bVxUndGN6WP9k80dxk7fZg0ChsKmIno" />
        
        <title>OpenPlayerJS - The Lighweight Media Player for Web</title>
        
        <link rel="shortcut icon" href="img/favicon.png" type="image/x-icon">
        <link rel="icon" href="img/favicon.png" type="image/x-icon">
        <link href="https://fonts.googleapis.com/css2?family=Titillium+Web:wght@300;400;700;900&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&display=swap" rel="stylesheet">
        <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/openplayerjs@latest/dist/openplayer.min.css" rel="stylesheet">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" rel="stylesheet">
        <link href="css/style.css" rel="stylesheet">
    </head>

    <body>
        <header>
          <div>
            <div class="menu-item">
              <a href="https://github.com/openplayerjs/openplayerjs">
                <img src="img/openplayer-clean.png" style="max-width: 100px;"/>
              </a>
            </div>
            <div class="menu-item"><a href="#about">About OpenPlayer JS</a></div>
            <div class="menu-item"><a href="#features">Features</a></div>
            <div class="menu-item"><a href="#configuration">Try it Now!</a></div>
            <div class="menu-mobile-item">
              <a class="icon" href="#">
                <img src="img/menu.svg" />
                <span style="display: none;">X</span>
              </a>
            </div>
          </div>
        </header>

        <main>
            <div class="title dark-container">
                <h1>OPENPLAYERJS</h1>
                <img src="img/openplayer-clean.png" />
            </div>
            <div class="description dark-container">
                <h2>The Lightweight Player for the<br><strong>Web</strong></h2>
                <a class="download" rel="noopener" href="https://github.com/openplayerjs/openplayerjs/archive/master.zip">Download</a>
                <div class="github">
                    <a class="btn btn-primary github-button" href="https://github.com/openplayerjs/openplayerjs" data-size="large"
                    data-show-count="true" aria-label="Star openplayerjs/openplayerjs on GitHub">Star</a>
                    <a class="btn btn-primary github-button" href="https://github.com/openplayerjs/openplayerjs/fork" data-size="large"
                    aria-label="Fork openplayerjs/openplayerjs on GitHub">Fork</a>
                </div>
            </div>
            <div class="facts dark-container" id="about">
                <h2 data-aos="fade-up" data-aos-duration="1000">Why another media player? And why <strong>OpenPlayerJS?</strong></h2>
            </div>
            <div class="dark-container">
                <div class="players" data-aos="fade-right" data-aos-duration="1000">
                    <div>
                        <ul class="tab-controls">
                            <li>
                                <button class="active" id="tab-one-btn" href="#">Video</button>
                            </li>
                            <li>
                                <button id="tab-two-btn">Audio</button>
                            </li>
                        </ul>
                        <div id="tab-one" class="tab-content show">
                            <video class="op-player__media" id="video" controls playsinline>
                                <source src="https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/TearsOfSteel.mp4" type="video/mp4">
                            </video>
                        </div>
                        <div id="tab-two" class="tab-content">
                            <audio class="op-player__media" id="audio" controls>
                            <source src="https://ccrma.stanford.edu/~jos/mp3/Latin.mp3" type="audio/mp3">
                            </audio>
                        </div>
                    </div>
                    <p>Technologies are evolving at a <strong>fast pace</strong>. Having a player that plays the most popular content in <strong>all browsers and devices,</strong> keeps itself ever-green, and can be <strong>customized easily</strong> is a no-brainer for everyone that wants the best.</p>
                </div>
            </div>
            <div id="features">
                <h1>Features</h1>
                <div data-aos="fade-down" data-aos-duration="1000" class="row">
                    <pre class="column" style="flex: 2;">
                        <code>
&lt;<span class="tag">video</span> <span class="attr-name">class</span>="<span class="attr-value">op-player__media</span>" <span class="attr-name">id</span>="<span class="attr-value">video</span>" <span class="attr-name">controls</span>&gt;
    &lt;<span class="tag">source</span>
        <span class="attr-name">src</span>="<span class="attr-value">http://myvideo.com/sample.mp4</span>"
        <span class="attr-name">type</span>="<span class="attr-value">video/mp4</span>"&gt;
&lt;/<span class="tag">video</span>&gt;

&lt;<span class="tag">script</span>&gt;
    <span class="keyword">const</span> <span class="constant">player</span> = <span class="keyword">new</span> <span class="class">OpenPlayerJS</span>(<span class="id">'video'</span>);

    // Unleash the power
    <span class="constant">player</span>.<span class="method">init()</span>;
&lt;<span class="tag">/script</span>&gt;
                        </code>
                    </pre>
                    <div class="column">
                        <h2>Easily configurable</h2>
                        <p>To unleash the power of OpenPlayerJS, use <strong>video/audio</strong> with a <em>op-player__media</em> class name, an ID  attribute for your element and a small set of configuration options... and that's it!</p>
                    </div>
                </div>
                <div data-aos="fade-up" data-aos-duration="1000" class="row">
                    <div class="browsers column">
                        <img src="img/devices.svg" />
                        <div>
                            <img src="img/browser_chrome.svg" />
                            <img src="img/browser_mozilla.svg" />
                            <img src="img/browser_edge.svg" />
                            <img src="img/browser_safari.svg" />
                        </div>
                    </div>
                    <div class="column">
                        <h2>Cross Browser/Cross Device Support</h2>
                        <p>Giving the constant changes of policies on different browsers, OpenPlayerJS integrates a smart algorithm to detect the browser's autoplay capabilities so you don't have to worry about each browser's quirks or workarounds to do that.</p>
                    </div>
                </div>
                <div data-aos="fade-right" data-aos-duration="1000" class="row">
                    <img src="img/ads.svg" style="max-width: 400px;" class="column"/>
                    <div class="column">
                        <h2>Media Advertising support</h2>
                        <p>OpenPlayerJS integrates <a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/client-side" rel="noopener"> Google's IMA SDK</a> so users have full support for all the types of Ads specifications used nowadays: VAST/VPAID/VMAP.</p>
                        <p>Just provide a valid Ads URL and let OpenPlayerJS to take care of the rest!</p>
                    </div>
                </div>
            </div>
            <div id="configuration">
                <h1>Try it Now!</h1>
                <div class="row">
                    <div data-aos="fade-up" data-aos-duration="1000" style="width: 100%;">
                        <form id="settings" action="#" method="POST">
                            <div class="panel-body">
                                <div class="form-group">
                                    <label for="url" class="col-form-label">Your media URL</label>
                                    <input type="url" class="form-control" id="url" name="url" value="https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/TearsOfSteel.mp4">
                                </div>
                                <fieldset class="form-group">
                                    <div id="types">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="types" id="video-type" value="video" checked>
                                            <label class="form-check-label" for="video-type">
                                                Video
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="types" id="audio-type" value="audio">
                                            <label class="form-check-label" for="audio-type">
                                                Audio
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input type="checkbox" class="form-control" name="levels" id="levels">
                                            <label for="levels" class="col-form-label">If streaming, <a href="https://github.com/openplayerjs/openplayerjs/blob/master/docs/usage.md#about-the-levels-control" target="_blank" rel="noopener">show quality levels.</a></label>
                                        </div>
                                    </div>
                                </fieldset>
                                <div class="form-group">
                                    <label for="ads" class="col-form-label">Ads URL</label>
                                    <input type="url" class="form-control" name="ads" id="ads" placeholder="(Optional)">
                                </div>
                                <div style="margin: 10px 0; display: flex; justify-content: space-evenly;">
                                    <button id="load" type="submit">Load</button>
                                    <button id="permalink" type="button">Copy Permalink</button>
                                </div>
                            </div>
                        </form>
                        <iframe title="Inline OpenPlayer" id="media" allowfullscreen scrolling="no" frameborder="0" style="width: 100%;"></iframe>
                    </div>
                </div>
            </div>
        </main>
        <footer>OpenPlayerJS was created by Rafael Miranda</footer>
        <script async defer src="https://buttons.github.io/buttons.js"></script>
        <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/openplayerjs@latest/dist/openplayer.min.js"></script>
        <script>
            AOS.init();
            const activateTabs = (e) => {
                const { id } = e.target;
                const primaryContainer = id === 'tab-one-btn' ? 'tab-one' : 'tab-two';
                const secondaryBtnTarget = id === 'tab-one-btn' ? 'tab-two-btn' : 'tab-one-btn';
                const secondaryContainer = id === 'tab-one-btn' ? 'tab-two' : 'tab-one';

                e.target.classList.add('active');
                document.getElementById(secondaryBtnTarget).classList.remove('active');
                document.getElementById(secondaryContainer).classList.remove('show');
                document.getElementById(primaryContainer).classList.add('show');
            }

            document.getElementById('tab-one-btn').addEventListener('click', activateTabs);
            document.getElementById('tab-two-btn').addEventListener('click', activateTabs);

            document.querySelectorAll('.op-player__media').forEach(el => {
                const p = new OpenPlayerJS(el.id);
                p.init();
            });

            const form = document.getElementById('settings');

            const generateUrl = () => {
                let url = window.location.protocol + '//' + window.location.host + '/embed.html?file=' + encodeURIComponent(form.querySelector('#url').value || '') + '&type=';
                url += form.querySelector('#video-type').checked ? 'video' : 'audio';
                const ads = form.querySelector('#ads').value;
                const levels = form.querySelector('#levels').checked;
                if (ads) {
                    url += '&ads=' + encodeURIComponent(ads.replace(/%/g, '~'));
                }
                if (levels) {
                    url += '&levels=true';
                }
                return url;
            }

            const loadMedia = () => {
                document.getElementById('media').src = generateUrl();
            }

            document.getElementById('permalink').addEventListener('click', () => {
                const el = document.createElement('textarea');
                el.value = generateUrl();;
                el.setAttribute('readonly', '');
                el.style.position = 'absolute';
                el.style.left = '-9999px';
                document.body.appendChild(el);

                const selected = document.getSelection().rangeCount > 0 ? document.getSelection().getRangeAt(0) : false;
                el.select();
                document.execCommand('copy');
                document.body.removeChild(el);
                if (selected) {
                    document.getSelection().removeAllRanges();
                    document.getSelection().addRange(selected);
                }
            });

            window.addEventListener('load', loadMedia);

            form.addEventListener('submit', (e) => {
                loadMedia();
                e.preventDefault();
                e.stopPropagation();
            });

            document.getElementById('media').addEventListener('load', (e) => {
                const iframe = e.target;
                iframe.width  = iframe.contentWindow.document.body.scrollWidth;
                iframe.height = iframe.contentWindow.document.body.scrollHeight + 20;
            });
            
            let menuIsClosed = true;

            document.querySelector('.icon').addEventListener('click', (e) => {
              const target = e.target.closest('header');
              document.querySelectorAll('.menu-item:not(:first-of-type)').forEach(el => {
                console.log(e.target)
                if (target.classList.contains('open')) {
                  el.classList.remove('show');
                  e.target.closest('.icon').querySelector('span').style.display = 'none';
                  e.target.closest('.icon').querySelector('img').style.display = 'block';
                  menuIsClosed = true;
                } else {
                  el.classList.add('show');
                  e.target.closest('.icon').querySelector('span').style.display = 'block';
                  e.target.closest('.icon').querySelector('img').style.display = 'none';
                  menuIsClosed = false;
                }
              });
              if (menuIsClosed) {
                target.classList.remove('open');
              } else {
                target.classList.add('open');
              }
              e.preventDefault();
              e.stopPropagation();
            });
        </script>
    </body>
</html>